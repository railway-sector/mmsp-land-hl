"use strict";(self.webpackChunkmmsp_land_hl=self.webpackChunkmmsp_land_hl||[]).push([[5263],{2257:(e,t,n)=>{n.d(t,{D8:()=>s,TO:()=>r,d0:()=>i});var o=n(53430);async function r(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.popupTemplate;if(null==r)return[];const s=await r.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:i}=r,{objectIdField:u,typeIdField:a,globalIdField:l,relationships:c}=e;if(s.includes("*"))return["*"];const d=i?(0,o.eX)(e):[],p=(0,o.DB)(e.fieldsIndex,[...s,...d]);return a&&p.push(a),p&&u&&null!==(t=e.fieldsIndex)&&void 0!==t&&t.has(u)&&!p.includes(u)&&p.push(u),p&&l&&null!==(n=e.fieldsIndex)&&void 0!==n&&n.has(l)&&!p.includes(l)&&p.push(l),null!==c&&void 0!==c&&c.forEach(t=>{var n;const{keyField:o}=t;p&&o&&(null===(n=e.fieldsIndex)||void 0===n?void 0:n.has(o))&&!p.includes(o)&&p.push(o)}),p}function s(e,t){return e&&"object"==typeof e?null!==t&&void 0!==t&&t.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function i(e,t){return null!=s(e,{defaultPopupTemplateEnabled:t})}},2395:(e,t,n)=>{n.d(t,{L0:()=>m,Ot:()=>v,W4:()=>a,uV:()=>d});var o=n(6326),r=n(42553),s=n(46053),i=(n(81806),n(76460),n(47249),n(6409)),u=n(87990);let a=class extends r.o{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,o.Cg)([(0,s.MZ)({type:Number})],a.prototype,"nodesPerPage",void 0),(0,o.Cg)([(0,s.MZ)({type:Number})],a.prototype,"rootIndex",void 0),(0,o.Cg)([(0,s.MZ)({type:String})],a.prototype,"lodSelectionMetricType",void 0),a=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],a);let l=class extends r.o{constructor(){super(...arguments),this.factor=1}};(0,o.Cg)([(0,s.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],l.prototype,"id",void 0),(0,o.Cg)([(0,s.MZ)({type:Number})],l.prototype,"factor",void 0),l=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],l);let c=class extends r.o{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,o.Cg)([(0,s.MZ)({type:[Number]})],c.prototype,"baseColorFactor",void 0),(0,o.Cg)([(0,s.MZ)({type:l})],c.prototype,"baseColorTexture",void 0),(0,o.Cg)([(0,s.MZ)({type:l})],c.prototype,"metallicRoughnessTexture",void 0),(0,o.Cg)([(0,s.MZ)({type:Number})],c.prototype,"metallicFactor",void 0),(0,o.Cg)([(0,s.MZ)({type:Number})],c.prototype,"roughnessFactor",void 0),c=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],c);let d=class extends r.o{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,o.Cg)([(0,i.e)({opaque:"opaque",mask:"mask",blend:"blend"})],d.prototype,"alphaMode",void 0),(0,o.Cg)([(0,s.MZ)({type:Number})],d.prototype,"alphaCutoff",void 0),(0,o.Cg)([(0,s.MZ)({type:Boolean})],d.prototype,"doubleSided",void 0),(0,o.Cg)([(0,i.e)({none:"none",back:"back",front:"front"})],d.prototype,"cullFace",void 0),(0,o.Cg)([(0,s.MZ)({type:l})],d.prototype,"normalTexture",void 0),(0,o.Cg)([(0,s.MZ)({type:l})],d.prototype,"occlusionTexture",void 0),(0,o.Cg)([(0,s.MZ)({type:l})],d.prototype,"emissiveTexture",void 0),(0,o.Cg)([(0,s.MZ)({type:[Number]})],d.prototype,"emissiveFactor",void 0),(0,o.Cg)([(0,s.MZ)({type:c})],d.prototype,"pbrMetallicRoughness",void 0),d=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],d);let p=class extends r.o{};(0,o.Cg)([(0,s.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:"".concat(t.index)}}})],p.prototype,"name",void 0),(0,o.Cg)([(0,i.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],p.prototype,"format",void 0),p=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],p);let v=class extends r.o{constructor(){super(...arguments),this.atlas=!1}};(0,o.Cg)([(0,s.MZ)({type:[p]})],v.prototype,"formats",void 0),(0,o.Cg)([(0,s.MZ)({type:Boolean})],v.prototype,"atlas",void 0),v=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],v);let f=class extends r.o{};(0,o.Cg)([(0,i.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],f.prototype,"type",void 0),(0,o.Cg)([(0,s.MZ)({type:Number})],f.prototype,"component",void 0),f=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],f);let h=class extends r.o{};(0,o.Cg)([(0,i.e)({draco:"draco"})],h.prototype,"encoding",void 0),(0,o.Cg)([(0,s.MZ)({type:[String]})],h.prototype,"attributes",void 0),h=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],h);let g=class extends r.o{constructor(){super(...arguments),this.offset=0}};(0,o.Cg)([(0,s.MZ)({type:Number})],g.prototype,"offset",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"position",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"normal",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"uv0",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"color",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"uvRegion",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"featureId",void 0),(0,o.Cg)([(0,s.MZ)({type:f})],g.prototype,"faceRange",void 0),(0,o.Cg)([(0,s.MZ)({type:h})],g.prototype,"compressedAttributes",void 0),g=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],g);let m=class extends r.o{};(0,o.Cg)([(0,i.e)({triangle:"triangle"})],m.prototype,"topology",void 0),(0,o.Cg)([(0,s.MZ)()],m.prototype,"geometryBuffers",void 0),m=(0,o.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],m)},5517:(e,t,n)=>{n.d(t,{t:()=>r});var o=n(87003);class r extends o.n{constructor(e,t,n){super(e,"vec3",1,(o,r,s)=>o.setUniform3fv(e,t(r,s),n))}}},7342:(e,t,n)=>{n.d(t,{Cc:()=>a,CC:()=>l,RF:()=>u});var o=n(89379),r=n(69539),s=(n(81806),n(76931)),i=n(55855);function u(e){return e&&e.enabled&&(function(e){return"extrude"===e.type}(e)||function(e){return"fill"===e.type}(e))&&null!=e.edges}function a(e,t){return function(e,t){if(null==e)return null;const n=null!=e.color?(0,i.ci)(r.A.toUnitRGBA(e.color)):(0,i.fA)(0,0,0,0),u=(0,s.Lz)(e.size),a=(0,s.Lz)(e.extensionLength);switch(e.type){case"solid":return l((0,o.A)({color:n,size:u,extensionLength:a},t));case"sketch":return function(e){return(0,o.A)((0,o.A)((0,o.A)({},d),e),{},{type:1})}((0,o.A)({color:n,size:u,extensionLength:a},t));default:return}}(function(e){return e&&e.enabled&&e.edges||null}(e),t)}function l(e){return(0,o.A)((0,o.A)((0,o.A)({},c),e),{},{type:0})}const c={color:(0,i.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1},d={color:(0,i.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1}},11736:(e,t,n)=>{n.d(t,{s1:()=>d});var o=n(89379),r=n(3825),s=(n(18690),n(50076),n(81806),n(34761),n(13191)),i=(n(20664),n(9392)),u=(n(56611),n(13312),n(14487),n(2413)),a=(n(78315),n(96854),n(68295),n(75913));n(34111),n(5809);var l=n(7342),c=(n(51990),n(59231));n(42717),n(90992);(0,u.vt)();async function d(e,t,n,s,i,u,l,c){const d=[];for(const o of t)if(o&&i.includes(o.name)){const t="".concat(e,"/nodes/").concat(n,"/attributes/").concat(o.key,"/0");d.push({url:t,storageInfo:o})}const p=await Promise.allSettled(d.map(e=>(0,r.A)(e.url,{responseType:"array-buffer",query:(0,o.A)((0,o.A)({},l),{},{token:u}),signal:null===c||void 0===c?void 0:c.signal}).then(t=>(0,a.m0)(e.storageInfo,t.data)))),v=[];for(const o of s){const e={};for(let t=0;t<p.length;t++){const n=p[t];if("fulfilled"===n.status){const r=n.value;e[d[t].storageInfo.name]=(0,a.E5)(r,o)}}v.push(e)}return v}(0,l.CC)({color:[0,0,0,0],opacity:0});(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,u.vt)(),(0,u.vt)(),new c.ab,(0,i.vt)(),new Array(72),(0,s.vt)()},12482:(e,t,n)=>{n.d(t,{$7:()=>_,B:()=>S,Fo:()=>M,M7:()=>R,Q5:()=>I,Tq:()=>z,Up:()=>T,XF:()=>F,Ze:()=>y,bK:()=>a,bh:()=>p,id:()=>x,ky:()=>d,qt:()=>q,tW:()=>A,v9:()=>v,w7:()=>l,wF:()=>u,wS:()=>C,x:()=>f,xS:()=>b,ze:()=>c});var o=n(56002),r=n(31633),s=n(81478);function i(e){return e?q:z}function u(e,t){return null!==t&&void 0!==t&&t.mode?t.mode:i(e).mode}function a(e,t){return null!=t?t:i(e)}function l(e,t){var n;return u(null==e||null!==(n=e.hasZ)&&void 0!==n&&n,t)}function c(e,t){var n;return a(null==e||null!==(n=e.hasZ)&&void 0!==n&&n,t)}function d(e){const t=g(e);return l(e.geometry,t)}function p(e){const t=g(e),n=l(e.geometry,t);return{mode:n,offset:null!=t&&"on-the-ground"!==n?R(t):0,featureExpressionInfo:null===t||void 0===t?void 0:t.featureExpressionInfo}}function v(e){return h(e)||f(e)}function f(e){var t;return"0"===(null===e||void 0===e||null===(t=e.featureExpressionInfo)||void 0===t?void 0:t.expression)}function h(e){if(!e)return!1;if("on-the-ground"===e.mode)return!1;const t=null!==e&&void 0!==e&&e.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!t||"0"===t)}function g(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}const m=(0,o.B)((e,t,n)=>{if(!e)return 0;if("decimal-degrees"===t)return 0;const o="unknown"!==t&&t?t:"meters",s=(0,r.mq)(n);return s?(0,r.oU)(e,o,s):0});function y(e,t){return m(null===e||void 0===e?void 0:e.offset,null===e||void 0===e?void 0:e.unit,t)}function x(e,t,n){var o,r;if(null===n||void 0===n||!n.mode)return;const s=e.hasZ?e.z:0,i=y(n,e.spatialReference);switch(n.mode){case"absolute-height":return s-i;case"on-the-ground":return 0;case"relative-to-ground":return s-((null!==(o=t.elevationProvider.getElevation(e.x,e.y,s,e.spatialReference,"ground"))&&void 0!==o?o:0)+i);case"relative-to-scene":return s-((null!==(r=t.elevationProvider.getElevation(e.x,e.y,s,e.spatialReference,"scene"))&&void 0!==r?r:0)+i)}}function C(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return M(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,o)}function b(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return M(e,t[0],t[1],t.length>2?t[2]:0,n,o,r)}function M(e,t,n,o,r,s){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(null==s)return;const u=null!=i?i.mode:"absolute-height";if("on-the-ground"===u)return 0;const{absoluteZ:a}=I(t,n,o,r,e,s);return function(e,t,n,o,r,s,i,u){var a,l;const c=y(i,r);switch(u){case"absolute-height":return e-c;case"relative-to-ground":return e-((null!==(a=s.elevationProvider.getElevation(t,n,o,r,"ground"))&&void 0!==a?a:0)+c);case"relative-to-scene":return e-((null!==(l=s.elevationProvider.getElevation(t,n,o,r,"scene"))&&void 0!==l?l:0)+c)}}(a,t,n,o,r,e,i,u)}function I(e,t,n,o,r,s){const i=y(s,o);switch(s.mode){case"absolute-height":return{absoluteZ:n+i,elevation:0};case"on-the-ground":{var u;const n=null!==(u=r.elevationProvider.getElevation(e,t,0,o,"ground"))&&void 0!==u?u:0;return{absoluteZ:n,elevation:n}}case"relative-to-ground":{var a;const s=null!==(a=r.elevationProvider.getElevation(e,t,n,o,"ground"))&&void 0!==a?a:0;return{absoluteZ:n+s+i,elevation:s}}case"relative-to-scene":{var l;const s=null!==(l=r.elevationProvider.getElevation(e,t,n,o,"scene"))&&void 0!==l?l:0;return{absoluteZ:n+s+i,elevation:s}}}}function T(e,t){if(null==t)return!1;const{mode:n}=t;return null!=n&&("scene"===e&&"relative-to-scene"===n||"ground"===e&&"absolute-height"!==n)}function S(e,t,n){return n&&n.mode!==t?"".concat(e," only support ").concat(t," elevation mode"):null}function _(e,t,n){return(null===n||void 0===n?void 0:n.mode)===t?"".concat(e," do not support ").concat(t," elevation mode"):null}function A(e,t){return null!=(null===t||void 0===t?void 0:t.featureExpressionInfo)&&"0"!==t.featureExpressionInfo.expression?"".concat(e," do not support featureExpressionInfo"):null}function F(e,t){t&&e.warn(".elevationInfo=",t)}function R(e){var t;return(null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t?t:0)*(0,s.Ao)(null===e||void 0===e?void 0:e.unit)}const q={mode:"absolute-height",offset:0},z={mode:"on-the-ground",offset:null}},14487:(e,t,n)=>{n.d(t,{F:()=>s});n(56611);var o=n(13312),r=n(64232);function s(e,t,n,o,s){return!(null==t||null==o||e.length<2)&&(i.x=e[0],i.y=e[1],i.z=e[2],i.spatialReference=t,(0,r.g)(i,n,o,s))}const i=(0,n(18117).TH)(0,0,0,o.A.WGS84)},16981:(e,t,n)=>{n.d(t,{$:()=>o,P:()=>r});const o={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},r={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1,supportsTypeWildcard:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryPivot:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:o,query:{maxRecordCount:0,maxRecordCountFactor:0,maxUniqueIDCount:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCentroidOnDegeneratedQuantizedGeometry:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPaginationOnAggregatedQueries:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},18117:(e,t,n)=>{function o(e,t,n,o){return{x:e,y:t,z:n,hasZ:null!=n,hasM:!1,spatialReference:o,type:"point"}}function r(e,t,n,o,r){e.x=t,e.y=n,e.z=o,e.hasZ=null!=o,e.spatialReference=r}n.d(t,{Jc:()=>r,TH:()=>o})},19771:(e,t,n)=>{n.d(t,{J:()=>r});var o=n(87003);class r extends o.n{constructor(e,t,n){super(e,"float",2,(o,r,s)=>o.setUniform1f(e,t(r,s),n))}}},21390:(e,t,n)=>{n.d(t,{m:()=>r});var o=n(87003);class r extends o.n{constructor(e,t,n){super(e,"float",1,(o,r,s)=>o.setUniform1f(e,t(r,s),n))}}},27374:(e,t,n)=>{n.d(t,{o:()=>r});var o=n(87003);class r extends o.n{constructor(e,t){super(e,"sampler2D",2,(n,o,r)=>n.bindTexture(e,t(o,r)))}}},31432:(e,t,n)=>{n.d(t,{Y:()=>o});const o=class{};new o},34981:(e,t,n)=>{function o(e){return 4===e||5===e||6===e||7===e||8===e}function r(e){return d(e)||3===e}function s(e){return 9===e||10===e}function i(e){return u(e)||s(e)}function u(e){return 0===e}function a(e){return u(e)||v(e)}function l(e){return a(e)||10===e}function c(e){return a(e)||s(e)}function d(e){return c(e)||p(e)}function p(e){return 2===e}function v(e){return 1===e}function f(e){return p(e)||o(e)}n.d(t,{Bf:()=>o,CL:()=>s,Dz:()=>f,LG:()=>v,Mb:()=>c,QG:()=>l,RN:()=>a,T2:()=>d,_o:()=>u,eh:()=>p,i3:()=>i,iq:()=>r})},42717:(e,t,n)=>{n.d(t,{NL:()=>g});var o,r=n(57528),s=n(34981),i=n(95352),u=n(94759),a=n(72468),l=n(5517),c=n(19771),d=n(21390),p=n(86955),v=n(27374),f=n(70367);n(75803);const h=1;function g(e,t){if(!(0,s.RN)(t.output))return;e.fragment.include(u.C);const{emissionSource:n,hasEmissiveTextureTransform:g,bindType:m}=t,y=3===n||4===n||5===n;y&&(e.include(i.r,t),e.fragment.uniforms.add(1===m?new f.N("texEmission",e=>e.textureEmissive):new v.o("texEmission",e=>e.textureEmissive)));const x=2===n||y;x&&e.fragment.uniforms.add(1===m?new l.t("emissiveBaseColor",e=>e.emissiveBaseColor):new a.W("emissiveBaseColor",e=>e.emissiveBaseColor));const C=0!==n;C&&7!==n&&6!==n&&4!==n&&5!==n&&e.fragment.uniforms.add(1===m?new d.m("emissiveStrength",e=>e.emissiveStrength):new c.J("emissiveStrength",e=>e.emissiveStrength));const b=7===n,M=5===n,I=1===n||6===n||b;e.fragment.code.add((0,p.H)(o||(o=(0,r.A)(["\n    vec4 getEmissions(vec3 symbolColor) {\n      vec4 emissions = ",";\n      ","\n      ","\n      return emissions;\n    }\n  "])),x?M?"emissiveSource == 0 ? vec4(emissiveBaseColor, 1.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(emissiveBaseColor, 1.0)":I?b?"emissiveSource == 0 ? vec4(0.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(linearizeGamma(symbolColor), 1.0)":"vec4(0.0)",(0,p.If)(y,"".concat((0,p.If)(M,"if(emissiveSource == 0) {\n              vec4 emissiveFromTex = textureLookup(texEmission, ".concat(g?"emissiveUV":"vuv0",");\n              emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);\n           }"),"vec4 emissiveFromTex = textureLookup(texEmission, ".concat(g?"emissiveUV":"vuv0",");\n           emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);")),"\n        emissions.w = emissions.rgb == vec3(0.0) ? 0.0: emissions.w;")),(0,p.If)(C,"emissions.rgb *= emissiveStrength * ".concat(p.H.float(h),";"))))}},51990:(e,t,n)=>{n.d(t,{K_:()=>o});n(15941);function o(e,t){for(let n=0;n<4;n++)e[n]=r(t[n]);return e}function r(e){return isNaN(e)?255:e*(254/255)}},56002:(e,t,n)=>{function o(e){let t,n,o=[],r=!1;return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return r&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(i,o)||(n=e.apply(this,i),t=this,o=i,r=!0),n}}n.d(t,{B:()=>o})},59696:(e,t,n)=>{n.d(t,{A:()=>o});class o{constructor(e){this._material=e.material,this._techniques=e.techniques,this._output=e.output}dispose(){}get _stippleTextures(){var e;return null===(e=this._techniques.context)||void 0===e?void 0:e.stippleTextures}get _markerTextures(){var e;return null===(e=this._techniques.context)||void 0===e?void 0:e.markerTextures}getTechnique(e,t){return this._techniques.get(e,this._material.getConfiguration(this._output,t))}ensureResources(e){return 2}}},64232:(e,t,n)=>{n.d(t,{W:()=>u,g:()=>i});var o=n(9392),r=n(56611),s=n(45308);function i(e,t,n,o){var i,u;if((0,r.canProjectWithoutEngine)(e.spatialReference,n)){var l;a[0]=e.x,a[1]=e.y;const r=e.z;return a[2]=null!==(l=null!==r&&void 0!==r?r:o)&&void 0!==l?l:0,(0,s.projectBuffer)(a,e.spatialReference,0,t,n,0)}const c=(0,r.tryProjectWithZConversion)(e,n);return!!c&&(t[0]=null===c||void 0===c?void 0:c.x,t[1]=null===c||void 0===c?void 0:c.y,t[2]=null!==(i=null!==(u=null===c||void 0===c?void 0:c.z)&&void 0!==u?u:o)&&void 0!==i?i:0,!0)}async function u(e,t,n,o,s){return await(0,r.initializeProjection)(e.spatialReference,n,null,s),i(e,t,n,o)}const a=(0,o.vt)()},70367:(e,t,n)=>{n.d(t,{N:()=>r});var o=n(87003);class r extends o.n{constructor(e,t){super(e,"sampler2D",1,(n,o,r)=>n.bindTexture(e,t(o,r)))}}},72468:(e,t,n)=>{n.d(t,{W:()=>r});var o=n(87003);class r extends o.n{constructor(e,t,n){super(e,"vec3",2,(o,r,s,i)=>o.setUniform3fv(e,t(r,s,i),n))}}},75803:(e,t,n)=>{n.d(t,{NV:()=>l,m8:()=>u});var o=n(30726),r=n(50346),s=n(59696),i=n(31432);class u extends s.A{constructor(e){super(e),this._numLoading=0,this._disposed=!1,this._textures=e.textures,this.updateTexture(e.textureId),this._acquire(e.normalTextureId,e=>this._textureNormal=e),this._acquire(e.emissiveTextureId,e=>this._textureEmissive=e),this._acquire(e.occlusionTextureId,e=>this._textureOcclusion=e),this._acquire(e.metallicRoughnessTextureId,e=>this._textureMetallicRoughness=e)}dispose(){super.dispose(),this._texture=(0,o.Gz)(this._texture),this._textureNormal=(0,o.Gz)(this._textureNormal),this._textureEmissive=(0,o.Gz)(this._textureEmissive),this._textureOcclusion=(0,o.Gz)(this._textureOcclusion),this._textureMetallicRoughness=(0,o.Gz)(this._textureMetallicRoughness),this._disposed=!0}ensureResources(e){return 0===this._numLoading?2:1}get textureBindParameters(){var e,t,n,o,r,s,i,u,a,c;return new l(null!==(e=null===(t=this._texture)||void 0===t?void 0:t.glTexture)&&void 0!==e?e:null,null!==(n=null===(o=this._textureNormal)||void 0===o?void 0:o.glTexture)&&void 0!==n?n:null,null!==(r=null===(s=this._textureEmissive)||void 0===s?void 0:s.glTexture)&&void 0!==r?r:null,null!==(i=null===(u=this._textureOcclusion)||void 0===u?void 0:u.glTexture)&&void 0!==i?i:null,null!==(a=null===(c=this._textureMetallicRoughness)||void 0===c?void 0:c.glTexture)&&void 0!==a?a:null)}updateTexture(e){null!=this._texture&&e===this._texture.id||(this._texture=(0,o.Gz)(this._texture),this._acquire(e,e=>this._texture=e))}_acquire(e,t){if(null==e)return void t(null);const n=this._textures.acquire(e);if((0,r.$X)(n))return++this._numLoading,void n.then(e=>{if(this._disposed)return(0,o.Gz)(e),void t(null);t(e)}).finally(()=>--this._numLoading);t(n)}}class a extends i.Y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.textureEmissive=e}}class l extends a{constructor(e,t,n,o,r,s,i){super(n),this.texture=e,this.textureNormal=t,this.textureOcclusion=o,this.textureMetallicRoughness=r,this.scale=s,this.normalTextureTransformMatrix=i}}},78315:(e,t,n)=>{n.d(t,{A:()=>m,B:()=>V,N:()=>v,a:()=>_,b:()=>I,c:()=>h,d:()=>D,e:()=>y,f:()=>f,g:()=>T,h:()=>w,j:()=>g,k:()=>C,m:()=>M,n:()=>S,o:()=>A,p:()=>G,q:()=>R,s:()=>W,w:()=>k,x:()=>F,y:()=>q});n(81806),n(76460);var o=n(15941),r=n(34761),s=n(20664),i=n(9392),u=n(55855),a=n(53494),l=n(95925);function c(e,t){const n=(0,s.b)(e),r=(0,o.YN)(e[2]/n),i=Math.atan2(e[1]/n,e[0]/n);return(0,s.j)(t,n,r,i),t}var d=n(96190),p=n(75762);const v=h();function f(e,t,n,o){return new Array(e,t,n,o)}function h(){return f(0,0,0,0)}function g(e,t){return f(e[0],e[1],e[2],t)}function m(e){return f(e[0],e[1],e[2],e[3])}function y(e,t,n){return x(e,t[0],t[1],t[2],n)}function x(e,t,n,o,r){return e[0]=t,e[1]=n,e[2]=o,e[3]=r,e}function C(e,t){return b(e,t)}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function M(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function I(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=t,e}function T(e){return e[3]}function S(e,t){return(0,s.j)(t,e[0],e[1],e[2])}function _(e){return(0,s.j)(O,e[0],e[1],e[2])}function A(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2]}function F(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2]}function R(e,t,n){A(e,(0,s.t)(O,t,n))}function q(e){return(0,u.fA)(e[0],e[1],e[2],e[3])}function z(e,t,n){if(null==t)return!1;if(!P(e,t,E))return!1;let{t0:o,t1:r}=E;if((o<0||r<o&&r>0)&&(o=r),o<0)return!1;if(n){const{origin:e,direction:r}=t;n[0]=e[0]+r[0]*o,n[1]=e[1]+r[1]*o,n[2]=e[2]+r[2]*o}return!0}function w(e,t,n){const o=(0,l.Cr)(t,n);if(!P(e,o,E))return[];const{origin:r,direction:u}=o,{t0:c,t1:d}=E,p=t=>{const n=(0,i.vt)();return(0,s.c)(n,r,u,t),G(e,n,n)};return Math.abs(c-d)<(0,a.FD)()?[p(c)]:[p(c),p(d)]}const E={t0:0,t1:0};function P(e,t,n){const{origin:o,direction:r}=t,s=Z;s[0]=o[0]-e[0],s[1]=o[1]-e[1],s[2]=o[2]-e[2];const i=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(0===i)return!1;const u=2*(r[0]*s[0]+r[1]*s[1]+r[2]*s[2]),a=u*u-4*i*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-e[3]*e[3]);if(a<0)return!1;const l=Math.sqrt(a);return n.t0=(-u-l)/(2*i),n.t1=(-u+l)/(2*i),!0}const Z=(0,i.vt)();function k(e,t){return z(e,t,null)}function B(e,t,n){const o=p.rq.get(),i=p.Rc.get();(0,s.i)(o,t.origin,t.direction);const u=T(e);(0,s.i)(n,o,t.origin),(0,s.h)(n,n,1/(0,s.b)(n)*u);const a=U(e,t.origin),l=(0,d.g7)(t.origin,n);return(0,r.$0)(i,l+a,o),(0,s.t)(n,n,i),n}function D(e,t,n,o){const r=T(e),s=r*r,i=t+.5*Math.PI,u=n*n+s-2*Math.cos(i)*n*r,a=Math.sqrt(u),l=u-s;if(l<=0)return.5;const c=Math.sqrt(l),d=Math.acos(c/a)-Math.asin(r/(a/Math.sin(i)));return Math.min(1,(d+.5*o)/o)}function G(e,t,n){const o=(0,s.e)(p.rq.get(),t,_(e)),r=(0,s.h)(p.rq.get(),o,e[3]/(0,s.b)(o));return(0,s.g)(n,r,_(e))}function U(e,t){const n=(0,s.e)(p.rq.get(),t,_(e)),r=(0,s.b)(n),i=T(e),u=i+Math.abs(i-r);return(0,o.XM)(i/u)}const L=(0,i.vt)();function N(e,t,n,o){const r=(0,s.e)(L,t,_(e));switch(n){case 0:{const e=c(r,L)[2];return(0,s.j)(o,-Math.sin(e),Math.cos(e),0)}case 1:{const e=c(r,L),t=e[1],n=e[2],i=Math.sin(t);return(0,s.j)(o,-i*Math.cos(n),-i*Math.sin(n),Math.cos(t))}case 2:return(0,s.n)(o,r);default:return}}function j(e,t){const n=(0,s.e)($,t,_(e));return(0,s.b)(n)-e[3]}function V(e,t){const n=(0,s.s)(_(e),t),o=T(e);return n<=o*o}const O=(0,i.vt)(),H=(0,i.vt)(),Q=h(),$=(0,i.vt)(),W=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:v,altitudeAt:j,angleToSilhouette:U,axisAt:N,cameraFrustumCoverage:D,clear:function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=0},clone:function(e){return f(e[0],e[1],e[2],e[3])},closestPoint:function(e,t,n){return z(e,t,n)?n:((0,l.oC)(t,_(e),n),G(e,n,n))},closestPointOnSilhouette:B,containsPoint:V,copy:M,copyCenter:F,create:h,distanceToSilhouette:function(e,t){const n=(0,s.e)(p.rq.get(),t,_(e)),o=(0,s.m)(n),r=e[3]*e[3];return Math.sqrt(Math.abs(o-r))},elevate:function(e,t,n){return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=e[3]+t,n},equals:b,exactEquals:C,fromCenterAndRadius:g,fromRadius:I,fromValues:f,fromVec4:m,getCenter:S,getCenterTemp:_,getExtent:function(e,t){return t},getRadius:T,intersectLine:w,intersectRay:z,intersectRayClosestSilhouette:function(e,t,n){if(z(e,t,n))return n;const o=B(e,t,p.rq.get());return(0,s.g)(n,t.origin,(0,s.h)(p.rq.get(),t.direction,(0,s.k)(t.origin,o)/(0,s.b)(t.direction))),n},intersectsRay:k,projectPoint:G,set:x,setAltitudeAt:function(e,t,n,o){const r=j(e,t),i=N(e,t,2,$),u=(0,s.h)($,i,n-r);return(0,s.g)(o,t,u)},setCenter:A,setCenterFromValues:function(e,t,n,o){e[0]=t,e[1]=n,e[2]=o},setExtent:function(e,t,n){return e!==n&&M(e,n),n},setFromCenterAndRadius:y,setFromValues:function(e,t,n,o,r){e[0]=t,e[1]=n,e[2]=o,e[3]=r},setTransformedCenter:R,tmpSphere:Q,toVec4:q,union:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h();const o=(0,s.k)(_(e),S(t,H)),r=e[3],i=t[3];return o+i<r?(M(e,n),n):o+r<i?(M(t,n),n):((0,s.l)(O,_(e),S(t,H),(o+i-r)/(2*o)),y(n,O,(o+r+i)/2),n)}},Symbol.toStringTag,{value:"Module"}))},86955:(e,t,n)=>{n.d(t,{H:()=>o,If:()=>r});const o=function(e){let t="";for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=e[n]+(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return t+=e[e.length-1],t};function r(e,t){return e?t:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}o.int=e=>Math.round(e).toString(),o.float=e=>e.toPrecision(8)},87003:(e,t,n)=>{n.d(t,{n:()=>o});n(81806);class o{constructor(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this.name=e,this.type=t,this.arraySize=r,this.bind={0:null,1:null,2:null},o)switch(n){case void 0:break;case 0:this.bind[0]=o;break;case 1:this.bind[1]=o;break;case 2:this.bind[2]=o}}equals(e){return this.type===e.type&&this.name===e.name&&this.arraySize===e.arraySize}}},94759:(e,t,n)=>{n.d(t,{C:()=>u});var o,r=n(57528),s=n(99746),i=n(86955);function u(e){e.code.add((0,i.H)(o||(o=(0,r.A)(["\n    const float GAMMA = ",";\n    const float INV_GAMMA = ",";\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  "])),i.H.float(s.Tf),i.H.float(1/s.Tf)))}},95352:(e,t,n)=>{n.d(t,{r:()=>l});var o,r,s=n(57528),i=n(97808),u=n(86955);function a(e){e.fragment.code.add((0,u.H)(o||(o=(0,s.A)(["vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\nfloat maxdUV = 0.125;\nvec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nvec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nreturn textureGrad(tex, uvAtlas, dUVdx, dUVdy);\n}"]))))}function l(e,t){const{textureCoordinateType:n}=t;if(0===n||3===n)return;e.include(i.U,t);const o=2===n;o&&e.include(a),e.fragment.code.add((0,u.H)(r||(r=(0,s.A)(["\n    vec4 textureLookup(sampler2D tex, vec2 uv) {\n      return ",";\n    }\n  "])),o?"textureAtlasLookup(tex, uv, vuvRegion)":"texture(tex, uv)"))}},95925:(e,t,n)=>{n.d(t,{C:()=>d,Cr:()=>p,LV:()=>c,fA:()=>v,kb:()=>f,oC:()=>h,vt:()=>a});n(18690);var o=n(97467),r=(n(86300),n(44680)),s=n(20664),i=n(9392),u=n(75762);function a(e){return e?l((0,i.o8)(e.origin),(0,i.o8)(e.direction)):l((0,i.vt)(),(0,i.vt)())}function l(e,t){return{origin:e,direction:t}}function c(e,t){const n=g.get();return n.origin=e,n.direction=t,n}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return v(e.origin,e.direction,t)}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();return(0,s.d)(n.origin,e),(0,s.e)(n.direction,t,e),n}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();return(0,s.d)(n.origin,e),(0,s.d)(n.direction,t),n}function f(e,t){const n=(0,s.i)(u.rq.get(),(0,s.n)(u.rq.get(),e.direction),(0,s.e)(u.rq.get(),t,e.origin));return(0,s.f)(n,n)}function h(e,t,n){const o=(0,s.f)(e.direction,(0,s.e)(n,t,e.origin));return(0,s.g)(n,e.origin,(0,s.h)(n,e.direction,o)),n}const g=new o.I(()=>a());(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,r.vt)()},96854:(e,t,n)=>{n.d(t,{A:()=>i,Y:()=>u});var o=n(34154),r=n(53430),s=n(76386);async function i(e,t,n,s){var i,u,a;const l=new Array(t.length),c=new Map,d=new Map,p=(0,r.hL)(e.fieldsIndex,n.outFields),v=!0===(null===(i=e.capabilities)||void 0===i||null===(i=i.operations)||void 0===i?void 0:i.supportsQuery)&&null!=e.queryFeatures,f=null!==(u=null===s||void 0===s?void 0:s.hasRequiredFields)&&void 0!==u?u:r.Kl;for(let o=0;o<t.length;o++){const e=t[o];if(v&&!e.isAggregate){if(n.returnGeometry||!f(e,p)){const t=e.getObjectId();if(null!=t){c.set(t,{graphic:e,index:o});continue}const n=e.getGlobalId();if(null!=n){d.set(n,{graphic:e,index:o});continue}}l[o]=e}else l[o]=e}if(!v||!e.queryFeatures||0===c.size&&0===d.size)return l.filter(Boolean);const h=[],g=(e,t)=>{var n;t&&(null!==(n=e.outFields)&&void 0!==n||(e.outFields=[]),e.outFields.includes(t)||e.outFields.push(t))};if(c.size>0){var m,y;const t=n.clone();g(t,e.objectIdField),"uniqueIdFields"in e&&null!==(m=e.uniqueIdFields)&&void 0!==m&&m.length&&(null!==(y=t.outFields)&&void 0!==y||(t.outFields=[]),t.outFields.push(...e.uniqueIdFields)),t.objectIds=Array.from(c.keys()),h.push({type:"object-id",query:t,map:c})}const x="globalIdField"in e?e.globalIdField:null;if(null!=x&&d.size>0){const e=n.clone();g(e,x);const t=Array.from(d.keys());e.where=(0,o.mA)(n.where,"".concat(x," IN (").concat(t.map(e=>"'".concat(e,"'")).join(","),")")),h.push({type:"global-id",query:e,map:d})}const C=null!==(a=null===s||void 0===s?void 0:s.updateSourceAttributes)&&void 0!==a&&a;for(const{type:o,query:r,map:I}of h)try{const t=await e.queryFeatures(r,s);for(const e of t.features){const t="object-id"===o?e.getObjectId():e.getGlobalId();if(null==t)continue;const n=I.get(t);if(!n)continue;const{graphic:r,index:s}=n;if(C&&e.attributes){var b;null!==(b=r.attributes)&&void 0!==b||(r.attributes={});for(const t of p)t in e.attributes&&(r.attributes[t]=e.attributes[t])}const{geometry:i,origin:u}=r;e.geometry||(e.geometry=i),e.origin=u,l[s]=e}}catch(M){}return l.filter(Boolean)}async function u(e){var t;if(null!==(t=e.expressionInfos)&&void 0!==t&&t.length||Array.isArray(e.content)&&e.content.some(e=>"expression"===e.type))return(0,s.l)()}},97467:(e,t,n)=>{n.d(t,{I:()=>r});var o=n(77944);class r{constructor(e){this._allocator=e,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,o.d)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}_grow(){for(let e=0;e<Math.max(8,Math.min(this._items.length,s));e++)this._items.push(this._allocator())}}const s=1024},97808:(e,t,n)=>{n.d(t,{U:()=>l});var o,r,s,i=n(57528),u=n(4212),a=n(86955);function l(e,t){switch(t.textureCoordinateType){case 1:return e.attributes.add("uv0","vec2"),e.varyings.add("vuv0","vec2"),void e.vertex.code.add((0,a.H)(o||(o=(0,i.A)(["void forwardTextureCoordinates() { vuv0 = uv0; }"]))));case 2:return e.attributes.add("uv0","vec2"),e.attributes.add("uvRegion","vec4"),e.varyings.add("vuv0","vec2"),e.varyings.add("vuvRegion","vec4"),void e.vertex.code.add((0,a.H)(r||(r=(0,i.A)(["void forwardTextureCoordinates() {\nvuv0 = uv0;\nvuvRegion = uvRegion;\n}"]))));default:(0,u.Xb)(t.textureCoordinateType);case 0:return void e.vertex.code.add((0,a.H)(s||(s=(0,i.A)(["void forwardTextureCoordinates() {}"]))));case 3:return}}}}]);
//# sourceMappingURL=5263.aa018120.chunk.js.map