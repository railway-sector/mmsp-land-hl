{"version":3,"file":"static/js/8995.ea559b30.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/AGraphicContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","../node_modules/@arcgis/core/views/2d/engine/AFeatureContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueInstance.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/instanceIdUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FeatureTechniqueInstance as e}from\"./TechniqueInstance.js\";import{Techniques as i}from\"./TechniqueRegistry.js\";import{castInstanceId as t}from\"./mesh/instanceIdUtils.js\";let n=0;function a(i,a){return new e(t(n++),i,a)}const o={visualVariableColor:null,visualVariableOpacity:null,visualVariableSizeMinMaxValue:null,visualVariableSizeScaleStops:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null,visualVariableRotation:null,visualVariableSizeOutlineScaleStops:null};class l{constructor(){this.instances={fill:a(i.fill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),marker:a(i.marker,{uniforms:o,optionalAttributes:{zoomRange:!0}}),line:a(i.line,{uniforms:o,optionalAttributes:{zoomRange:!0}}),text:a(i.text,{uniforms:o,optionalAttributes:{zoomRange:!0,referenceSymbol:!1,clipAngle:!1,visibility:!1}}),outlineFill:a(i.outlineFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),complexFill:a(i.complexFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),gradientFill:a(i.gradientFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),texturedLine:a(i.texturedLine,{uniforms:o,optionalAttributes:{zoomRange:!0}}),gradientStroke:a(i.gradientStroke,{uniforms:o,optionalAttributes:{zoomRange:!0}}),animatedMarker:a(i.animatedMarker,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,lineLength:!1}}),animatedMarkerShift:a(i.animatedMarkerShift,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!0,lineLength:!0}}),animatedPolygon:a(i.animatedFill,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,lineLength:!1}}),animatedPolyline:a(i.animatedLine,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,accumulatedDistance:!0,segmentDirection:!0,normal:!0,lineLength:!1}}),animatedPolylineShift:a(i.animatedLine,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,accumulatedDistance:!0,segmentDirection:!0,normal:!0,lineLength:!0}})},this._instancesById=Object.values(this.instances).reduce((e,i)=>(e.set(i.instanceId,i),e),new Map)}getInstance(e){return this._instancesById.get(e)}}export{l as GraphicInstanceStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{identity as e,multiply as r,translate as i,scale as s,rotate as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{normalizeMapX as f}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as m}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as u}from\"../../engine/webgl/Utils.js\";import{BufferObject as c}from\"../../../webgl/BufferObject.js\";import{PrimitiveType as h,DataType as _}from\"../../../webgl/enums.js\";import{VertexArrayObject as p}from\"../../../webgl/VertexArrayObject.js\";import{VertexBuffer as d}from\"../../../webgl/VertexBuffer.js\";const g=Math.PI/180,v=4;class x extends m{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){super.destroy(),this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(1,771),e.setColorMask(!0,!0,!0,!0);const i=this._program;e.bindVAO(this._vao),e.useProgram(i),i.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(h.LINES,8*r.length,_.UNSIGNED_INT,0),e.bindVAO(null)}_createTransforms(){return{displayViewScreenMat3:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,b().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:m,size:u,resolution:c,pixelRatio:h,rotation:_,viewpoint:p}=a,d=g*_,{x:v,y:x}=p.targetGeometry,b=f(v,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const B=h*u[0],y=h*u[1],j=c*B,M=c*y,O=e(this._dvsMat3);r(O,O,m),i(O,O,n(B/2,y/2)),s(O,O,l(u[0]/j,-y/M,1)),o(O,O,-d)}_updateBufferData(t,e){const{x:r,y:i}=this._localOrigin,s=2*v*e.length,o=new Float32Array(s),a=new Uint32Array(8*e.length);let n=0,l=0;for(const m of e)m&&(o[2*n]=m[0]-r,o[2*n+1]=m[1]-i,o[2*n+2]=m[0]-r,o[2*n+3]=m[3]-i,o[2*n+4]=m[2]-r,o[2*n+5]=m[3]-i,o[2*n+6]=m[2]-r,o[2*n+7]=m[1]-i,a[l]=n+0,a[l+1]=n+3,a[l+2]=n+3,a[l+3]=n+2,a[l+4]=n+2,a[l+5]=n+1,a[l+6]=n+1,a[l+7]=n+0,n+=4,l+=8);const f=b();this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=new d(t,f.bufferLayout,o.buffer,35048),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=c.createIndex(t,35048,a),this._vao||(this._vao=new p(t,this._vertexBuffer,this._indexBuffer))}}const b=()=>u(\"bounds\",[{location:0,name:\"a_position\",count:2,type:_.FLOAT}]);export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{AFeatureContainer as t}from\"../../engine/AFeatureContainer.js\";import{GraphicInstanceStore as r}from\"../../engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js\";import n from\"./GraphicBoundsRenderer.js\";class s extends t{constructor(e){super(e),this._instanceStore=new r,this.checkHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}get instanceStore(){return this._instanceStore}enableRenderingBounds(e){this._boundsRenderer=new n(e),this.requestRender()}get hasHighlight(){return this.checkHighlight()}onTileData(e,t){e.onMessage(t),this.contains(e)||this.addChild(e),this.requestRender()}_renderChildren(e,t){e.selection=t;for(const r of this.children){if(!r.visible)continue;const t=r.getDisplayList(this._instanceStore,1);t?.render(e)}}}export{s as AGraphicContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{estimateNumberArrayMemory as i}from\"../../../../core/memoryEstimations.js\";import{dataDrivenUnit2 as s,dataDrivenUnit1 as r,dataDrivenUnit0 as a,visualVariableUnit as n,localTimeOriginUnit as u,gpgpuUnit as h,animationUnit as o,filterFlagsUnit as d}from\"./definitions.js\";import{getDisplayIdTexel as l}from\"./DisplayId.js\";import{getPixelArrayCtor as p,getPixelBytes as g}from\"./Utils.js\";import{FramebufferObject as _}from\"../../../webgl/FramebufferObject.js\";import{Texture as c}from\"../../../webgl/Texture.js\";import{TextureDescriptor as x}from\"../../../webgl/TextureDescriptor.js\";const f=()=>e.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\");class b{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:a}=t,n=p(r);this.blockIndex=i,this.pixelType=r,this.size=e,this.textureOnly=a,a||(this.data=new n(s)),this._resetRange()}destroy(){this._texture?.dispose();for(const t in this._fbos){const e=this._fbos[t];e&&(\"0\"===t&&e.detachColorTexture(),e.dispose()),this._fbos[t]=null}this._texture=null}get _textureDesc(){const t=new x(this.size);return t.wrapMode=33071,t.samplingMode=9728,t.dataType=this.pixelType,t}get usedMemory(){return null!=this.data?i(this.data):0}setData(t,e,i){const s=l(t),r=this.data,a=s*this.texelSize+e;!r||a>=r.length||(r[a]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,e){if(null==this.data)return null;const i=l(t)*this.texelSize+e;return!this.data||i>=this.data.length?null:this.data[i]}getTexture(t){return this._texture??this._initTexture(t)}getFBO(t,e=0){if(!this._fbos[e]){const i=0===e?this.getTexture(t):this._textureDesc;this._fbos[e]=new _(t,i)}return this._fbos[e]}get hasDirty(){const t=this.dirtyStart;return this.dirtyEnd>=t}updateTexture(e,i){try{const s=this.dirtyStart,r=this.dirtyEnd;if(!this.hasDirty)return;has(\"esri-2d-update-debug\")&&console.debug(`Version[${i}] AttributeStoreView.updateTexture`,{start:s,end:r,firstBytes:new Uint8Array(this.data.buffer.slice(0,16)),block:this}),this._resetRange();const a=this.data.buffer,n=this.getTexture(e),u=4,h=(s-s%this.size)/this.size,o=(r-r%this.size)/this.size,d=h,l=this.size,g=o,_=h*this.size*u,c=(l+g*this.size)*u-_,x=p(this.pixelType),b=new x(a,_*x.BYTES_PER_ELEMENT,c),m=this.size,T=g-d+1;if(T>this.size)return void f().error(new t(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));n.updateData(0,0,d,m,T,b)}catch(s){}}update(t){const{data:e,start:i,end:s}=t;if(null!=e&&null!=this.data){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,s)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=p(this.pixelType);this.destroy(),this.data=new s(t.buffer)}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new c(t,this._textureDesc,this.data??void 0);if(null!=this._lastTexture&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,n=this.getFBO(t),u=g(r),h=new(p(r))(new ArrayBuffer(i*s*u*this.texelSize)),o=t.getBoundFramebufferObject(),{x:d,y:l,width:_,height:c}=t.getViewport();t.bindFramebuffer(n),n.readPixels(0,0,i,s,a,r,h),e.updateData(0,0,0,2*i,s/2,h),t.setViewport(d,l,_,c),t.bindFramebuffer(o)}return this.destroy(),this._texture=e,this._texture}}class m{constructor(){this.size=0,this._pendingAttributeUpdates=[],this._version=0,this._epoch=0,this._locked=!1}get locked(){return this._locked}get usedMemory(){let t=0;for(const e of this._data??[])null!=e&&(t+=e.usedMemory);return t}_initialize(t){if(!t)throw new Error(\"InternalError: initArgs must be defined\");const e=t.blockDescriptors;if(this.size=t.blockSize,has(\"esri-2d-update-debug\")&&console.debug(\"AttributeStoreView.initialize\",{message:t}),null==this._data)this._data=e.map((t,e)=>null!=t?new b(t,this.size,e):null);else for(let i=0;i<this._data.length;i++){const t=this._data[i],s=e[i];null!=s&&(null==t?this._data[i]=new b(s,this.size,i):t.resize(s,this.size))}}destroy(){for(const t of this._data??[])t?.destroy();this._defaultTexture?.dispose(),this._defaultTexture=null,this._pendingAttributeUpdates=[]}isEmpty(){return null==this._data}getBlock(t){if(null==this._data)return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,0,1,e)}setLocalTimeOrigin(t,e){this.setData(t,7,0,e)}getLabelMinZoom(t){return this.getData(t,0,1,255)}getFilterFlags(t){return this.getData(t,0,0,0)}getVisualVariableData(t,e){return this.getData(t,3,e,0)}getData(t,e,i,s){if(!this._data)return 0;const r=this._data[e];if(null==r)return 0;const a=r.getData(t,i);return null!=a?a:s}setData(t,e,i,s){this._data[e].setData(t,i,s)}lockTextureUploads(){this._locked=!0}unlockTextureUploads(){this._locked=!1,this.update()}requestUpdate(t){this._version=t.version,this._pendingAttributeUpdates.push(t),has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] AttributeStoreView.requestUpdate`,{message:t})}get currentEpoch(){return this._epoch}get hasPendingUpdates(){return this._pendingAttributeUpdates.length>0}update(){if(this._locked)return;const t=this._pendingAttributeUpdates;this._pendingAttributeUpdates=[];for(const e of t){const{blockData:t,initArgs:i,sendUpdateEpoch:s,version:r}=e;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] Epoch[${s}] AttributeStoreView.applyUpdate`),this._version=r,this._epoch=s,null!=i&&this._initialize(i);const a=this._data;for(let e=0;e<t.length;e++){const i=t[e],s=a[e];null!=s&&null!=i&&(has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] CpuBlock[${e}] AttributeStoreView.update`,{block:i}),s.update(i))}}}getUniforms(t){return{filterFlags:{texture:this._getTexture(t,0),unit:d},animation:{texture:this._getTexture(t,1),unit:o},gpgpu:{texture:this._getTexture(t,2),unit:h},localTimeOrigin:{texture:this._getTexture(t,7),unit:u},visualVariableData:{texture:this._getTexture(t,3),unit:n},dataDriven0:{texture:this._getTexture(t,4),unit:a},dataDriven1:{texture:this._getTexture(t,5),unit:r},dataDriven2:{texture:this._getTexture(t,6),unit:s},size:this.size}}_getTexture(t,e){const i=this._data?.[e];return i?(i.updateTexture(t,this._version),i.getTexture(t)):this._getDefaultTexture(t)}_getDefaultTexture(t){if(null==this._defaultTexture){const e=new x(1);e.wrapMode=33071,e.samplingMode=9728,this._defaultTexture=new c(t,e,new Uint8Array(4))}return this._defaultTexture}}export{m as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AttributeStoreView as t}from\"./webgl/AttributeStoreView.js\";import e from\"./webgl/TileContainer.js\";const i=60;class s extends e{constructor(e){super(e),this._statisticsByLevel=new Map,this._entityIndex=new Map,this.attributeView=new t}destroy(){super.destroy(),this.children.forEach(t=>t.destroy()),this.removeAllChildren(),this.attributeView.destroy()}doRender(t){t.context.capabilities.enable(\"textureFloatLinear\"),super.doRender(t)}get hasAnimations(){for(const t of this.children)if(t.hasAnimations)return!0;return!1}_reindexAndUpdateFeaturesIfNeeded(){if(this.hasAnimations&&(this._reindexFeatures(),0!==this.attributeView.size))for(const t of this._entityIndex.values())t.dirty&&(this.attributeView.setData(t.displayId,7,0,t.firstIndexed),t.dirty=!1)}restartAnimation(t){const e=this._entityIndex.get(t);if(!e)return;const i=performance.now()/1e3;e.firstIndexed=i,e.dirty=!0}restartAllAnimations(){const t=performance.now()/1e3;for(const[e,i]of this._entityIndex)i.firstIndexed=t,i.dirty=!0}_reindexFeatures(){const t=performance.now()/1e3;for(const e of this.children)for(const i of e.entityIds){const{objectId:e}=i;let s=this._entityIndex.get(e);s||(s={objectId:e,displayId:0,firstIndexed:t,lastIndexed:0,dirty:!0},this._entityIndex.set(e,s)),s.lastIndexed=t,s.displayId=i.displayId}for(const[e,s]of this._entityIndex)t-s.lastIndexed>i&&this._entityIndex.delete(e)}_updateAttributeView(){this.attributeView.update(),this._reindexAndUpdateFeaturesIfNeeded()}createRenderParams(t){const e=super.createRenderParams(t);return e.attributeView=this.attributeView,e.instanceStore=this._instanceStore,e.statisticsByLevel=this._statisticsByLevel,e}}export{s as AFeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import e from\"./WGLContainer.js\";import r from\"./brushes/WGLBrushStencil.js\";import s from\"./brushes/WGLBrushTileDebugInfo.js\";const t=(e,r)=>e.key.level-r.key.level!==0?e.key.level-r.key.level:e.key.row-r.key.row!==0?e.key.row-r.key.row:e.key.col-r.key.col;class n extends e{constructor(e){super(),this.tileInfoView=e,this.sortFunction=t}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this.tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(e){const t=super.prepareRenderPasses(e);return t.push(e.registerRenderPass({name:\"stencil\",brushes:[r],drawPhase:83,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&t.push(e.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:64,target:()=>this.children})),t}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{castStrictInstanceId as t}from\"./mesh/instanceIdUtils.js\";class i{constructor(t,i,e){this._instanceId=t,this.techniqueRef=i,this._input=e}get instanceId(){return t(this._instanceId)}createMeshInfo(i){return{id:t(this._instanceId),techniqueType:this.techniqueRef.type,inputParams:i,optionalAttributes:this._input.optionalAttributes}}getInput(){return this._input}setInput(t){this._input=t}}export{i as FeatureTechniqueInstance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){return n}function r(n){return n}export{r as castInstanceId,n as castStrictInstanceId};\n"],"names":["n","a","i","e","t","o","visualVariableColor","visualVariableOpacity","visualVariableSizeMinMaxValue","visualVariableSizeScaleStops","visualVariableSizeStops","visualVariableSizeUnitValue","visualVariableRotation","visualVariableSizeOutlineScaleStops","l","constructor","this","instances","fill","uniforms","optionalAttributes","zoomRange","marker","line","text","referenceSymbol","clipAngle","visibility","outlineFill","complexFill","gradientFill","texturedLine","gradientStroke","animatedMarker","value1Position2Value2","lineLength","animatedMarkerShift","animatedPolygon","animatedFill","animatedPolyline","animatedLine","accumulatedDistance","segmentDirection","normal","animatedPolylineShift","_instancesById","Object","values","reduce","set","instanceId","Map","getInstance","get","g","Math","PI","x","m","super","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","y","_getBounds","destroy","dispose","doRender","context","r","length","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","h","LINES","_","UNSIGNED_INT","_createTransforms","displayViewScreenMat3","programCache","acquire","b","attributes","state","displayMat3","size","u","resolution","c","pixelRatio","rotation","viewpoint","p","d","v","targetGeometry","f","spatialReference","B","j","M","O","s","Float32Array","Uint32Array","setData","buffer","bufferLayout","createIndex","location","name","count","type","FLOAT","_instanceStore","checkHighlight","_boundsRenderer","instanceStore","enableRenderingBounds","requestRender","hasHighlight","onTileData","onMessage","contains","addChild","_renderChildren","selection","children","visible","getDisplayList","render","_texture","_lastTexture","_fbos","texelSize","pixelType","textureOnly","blockIndex","data","_resetRange","_this$_texture","detachColorTexture","_textureDesc","wrapMode","samplingMode","dataType","usedMemory","dirtyStart","min","dirtyEnd","max","getData","getTexture","_this$_texture2","_initTexture","getFBO","arguments","undefined","hasDirty","updateTexture","has","console","debug","concat","start","end","firstBytes","Uint8Array","slice","block","BYTES_PER_ELEMENT","T","getLogger","error","updateData","update","layout","resize","_this$data","descriptor","width","height","pixelFormat","ArrayBuffer","getBoundFramebufferObject","getViewport","bindFramebuffer","readPixels","setViewport","_pendingAttributeUpdates","_version","_epoch","_locked","locked","_this$_data","_data","_initialize","Error","blockDescriptors","blockSize","message","map","_this$_defaultTexture","_this$_data2","_defaultTexture","isEmpty","getBlock","setLabelMinZoom","setLocalTimeOrigin","getLabelMinZoom","getFilterFlags","getVisualVariableData","lockTextureUploads","unlockTextureUploads","requestUpdate","version","push","currentEpoch","hasPendingUpdates","blockData","initArgs","sendUpdateEpoch","getUniforms","filterFlags","texture","_getTexture","unit","animation","gpgpu","localTimeOrigin","visualVariableData","dataDriven0","dataDriven1","dataDriven2","_this$_data3","_getDefaultTexture","_statisticsByLevel","_entityIndex","attributeView","forEach","removeAllChildren","capabilities","enable","hasAnimations","_reindexAndUpdateFeaturesIfNeeded","_reindexFeatures","dirty","displayId","firstIndexed","restartAnimation","performance","now","restartAllAnimations","entityIds","objectId","lastIndexed","delete","_updateAttributeView","createRenderParams","statisticsByLevel","key","level","row","col","tileInfoView","sortFunction","renderChildren","setStencilReference","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","registerRenderPass","brushes","drawPhase","target","getStencilTarget","stencilRef","_instanceId","techniqueRef","_input","createMeshInfo","id","techniqueType","inputParams","getInput","setInput"],"sourceRoot":""}