"use strict";(self.webpackChunkmmsp_land_hl=self.webpackChunkmmsp_land_hl||[]).push([[9231],{4437:(t,n,a)=>{a.d(n,{Z:()=>i,z:()=>s});var e=a(34761);function s(t,n,a){const e=Math.sin(t),s=Math.cos(t),i=Math.sin(n),r=Math.cos(n),o=a;return o[0]=-e,o[4]=-i*s,o[8]=r*s,o[12]=0,o[1]=s,o[5]=-i*e,o[9]=r*e,o[13]=0,o[2]=0,o[6]=r,o[10]=i,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function i(t,n,a){return s(t,n,a),(0,e.mg)(a,a),a}},5809:(t,n,a)=>{a.d(n,{l:()=>c});var e=a(15941),s=a(34761),i=a(9392),r=a(4437),o=a(482),h=a(80963);function c(t,n,a,e){const i=(0,o.Tp)(t,e);if(null==i)return!1;const c=i.source.spatialReferenceId,v=i.dest.spatialReferenceId;if(c===v&&!u(v)&&(0!==c||(0,h.aI)(t,e)))return(0,s.kN)(a,n),!0;if(u(v)){const t=o.w5[c][10],e=o.w5[10][v];return null!=t&&null!=e&&(t(n,0,d,0),e(d,0,f,0),(0,r.z)(l*d[0],l*d[1],a),a[12]=f[0],a[13]=f[1],a[14]=f[2],!0)}const _=u(c);if((3===v||11===v||2===v||5===v)&&(2===c||_||3===c||5===c)){const t=o.w5[c][10],e=o.w5[10][v];return null!=t&&null!=e&&(t(n,0,d,0),e(d,0,f,0),_?(0,r.Z)(l*d[0],l*d[1],a):(0,s.D_)(a),a[12]=f[0],a[13]=f[1],a[14]=f[2],!0)}return!1}function u(t){return 1===t||6===t||8===t||4===t}const l=(0,e.kU)(1),d=(0,i.vt)(),f=(0,i.vt)()},50468:(t,n,a)=>{a.d(n,{K:()=>e,n:()=>s});class e{constructor(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;this.data=t,this.size=n,this.stride=a}}class s extends e{constructor(t,n,a){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(t,a,arguments.length>4&&void 0!==arguments[4]?arguments[4]:a),this.indices=n,this.exclusive=e}}},59231:(t,n,a)=>{a.d(n,{ab:()=>bt,gm:()=>St});var e=a(86300),s=a(44680),i=a(13191),r=a(60008),o=a(4336),h=a(20664),c=a(9392),u=a(43047),l=a(55855),d=a(34111),f=a(98510),v=a(5809),_=a(45308),m=a(482),M=a(13927),g=a(80963),b=a(75762),j=a(72745),P=a(50468);const x=1e-6,I=(0,c.vt)(),p=(0,c.vt)();function z(t,n,a,e,s,i,r,o,h,c){return function(t,n,a){let e=Mt(t.maxVert[0],t.minVert[0]),s=0;for(let i=1;i<7;++i){const n=Mt(t.maxVert[i],t.minVert[i]);n>e&&(e=n,s=i)}ft(n,t.minVert[s]),ft(a,t.maxVert[s])}(t,e,s),Mt(e,s)<x?1:(lt(r,e,s),_t(r,r),function(t,n,a,e){const{data:s,size:i}=t;let r=Number.NEGATIVE_INFINITY,o=0;for(let h=0;h<s.length;h+=i){Q[0]=s[h]-n[0],Q[1]=s[h+1]-n[1],Q[2]=s[h+2]-n[2];const t=a[0]*Q[0]+a[1]*Q[1]+a[2]*Q[2],e=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],i=Q[0]*Q[0]+Q[1]*Q[1]+Q[2]*Q[2]-t*t/e;i>r&&(r=i,o=h)}return ft(e,s,o),r}(n,e,r,i)<x?2:(lt(o,s,i),_t(o,o),lt(h,i,e),_t(h,h),vt(a,o,r),_t(a,a),Z(n,a,r,o,h,c),0))}const q=(0,c.vt)(),w=(0,c.vt)(),A=(0,c.vt)(),S=(0,c.vt)(),y=(0,c.vt)(),N=(0,c.vt)(),C=(0,c.vt)(),V=(0,c.vt)();function F(t,n,a,e,s,i,r,o,h){(function(t,n,a,e,s){!function(t,n,a,e,s){const{data:i,size:r}=t;ft(e,i),ft(s,e),a[0]=gt(H,n),a[1]=a[0];for(let o=r;o<i.length;o+=r){const t=i[o]*n[0]+i[o+1]*n[1]+i[o+2]*n[2];t<a[0]&&(a[0]=t,ft(e,i,o)),t>a[1]&&(a[1]=t,ft(s,i,o))}}(t,n,T,s,e);const i=gt(a,n);T[1]-x<=i&&(e[0]=void 0),T[0]+x>=i&&(s[0]=void 0)})(t,n,a,q,w),void 0!==q[0]&&(lt(A,q,a),_t(A,A),lt(S,q,e),_t(S,S),lt(y,q,s),_t(y,y),vt(N,S,i),_t(N,N),vt(C,y,r),_t(C,C),vt(V,A,o),_t(V,V),Z(t,N,i,S,A,h),Z(t,C,r,y,S,h),Z(t,V,o,A,y,h)),void 0!==w[0]&&(lt(A,w,a),_t(A,A),lt(S,w,e),_t(S,S),lt(y,w,s),_t(y,y),vt(N,S,i),_t(N,N),vt(C,y,r),_t(C,C),vt(V,A,o),_t(V,V),Z(t,N,i,S,A,h),Z(t,C,r,y,S,h),Z(t,V,o,A,y,h))}const Q=[0,0,0];const T=(0,j.vt)();const O=(0,c.vt)(),X=(0,c.vt)(),B=(0,c.vt)(),D=(0,c.vt)(),E=(0,c.vt)(),Y=(0,c.vt)();function Z(t,n,a,e,s,i){if(mt(n)<x)return;vt(O,a,n),vt(X,e,n),vt(B,s,n),R(t,n,T),E[1]=T[0],D[1]=T[1],Y[1]=D[1]-E[1];const r=[a,e,s],o=[O,X,B];for(let h=0;h<3;++h){R(t,r[h],T),E[0]=T[0],D[0]=T[1],R(t,o[h],T),E[2]=T[0],D[2]=T[1],Y[0]=D[0]-E[0],Y[2]=D[2]-E[2];const a=ct(Y);a<i.quality&&(ft(i.b0,r[h]),ft(i.b1,n),ft(i.b2,o[h]),i.quality=a)}}const H=(0,c.vt)();function R(t,n,a){const{data:e,size:s}=t;a[0]=Number.POSITIVE_INFINITY,a[1]=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i+=s){const t=e[i]*n[0]+e[i+1]*n[1]+e[i+2]*n[2];a[0]=Math.min(a[0],t),a[1]=Math.max(a[1],t)}}function k(t,n,a){a.center=t,a.halfSize=(0,h.h)(n,n,.5),a.quaternion=o.zK}const G=(0,c.vt)(),K=(0,c.vt)(),W=(0,c.vt)(),J=(0,c.vt)(),L=(0,c.vt)(),U=(0,c.vt)();function $(t,n,a){ft(G,n),Math.abs(n[0])>Math.abs(n[1])&&Math.abs(n[0])>Math.abs(n[2])?G[0]=0:Math.abs(n[1])>Math.abs(n[2])?G[1]=0:G[2]=0,mt(G)<x&&(G[0]=G[1]=G[2]=1),vt(K,n,G),_t(K,K),vt(W,n,K),_t(W,W),tt(t,n,K,W,J,L),lt(U,L,J),rt(n,K,W,J,L,U,a)}function tt(t,n,a,e,s,i){R(t,n,T),s[0]=T[0],i[0]=T[1],R(t,a,T),s[1]=T[0],i[1]=T[1],R(t,e,T),s[2]=T[0],i[2]=T[1]}const nt=(0,c.vt)(),at=(0,c.vt)(),et=(0,c.vt)(),st=(0,s.fA)(1,0,0,0,1,0,0,0,1),it=(0,o.vt)();function rt(t,n,a,e,s,i,r){st[0]=t[0],st[1]=t[1],st[2]=t[2],st[3]=n[0],st[4]=n[1],st[5]=n[2],st[6]=a[0],st[7]=a[1],st[8]=a[2],r.quaternion=function(t,n){const a=n[0]+n[4]+n[8];if(a>0){let e=Math.sqrt(a+1);t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e}else{let a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);const e=(a+1)%3,s=(a+2)%3;let i=Math.sqrt(n[3*a+a]-n[3*e+e]-n[3*s+s]+1);t[a]=.5*i,i=.5/i,t[3]=(n[3*e+s]-n[3*s+e])*i,t[e]=(n[3*e+a]+n[3*a+e])*i,t[s]=(n[3*s+a]+n[3*a+s])*i}return t}(it,st),ut(nt,e,s),dt(nt,nt,.5),dt(at,t,nt[0]),dt(et,n,nt[1]),ut(at,at,et),dt(et,a,nt[2]),r.center=(0,h.g)(at,at,et),r.halfSize=(0,h.h)(nt,i,.5)}class ot{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7);this.buffer=new ArrayBuffer(448);let n=0;this.minProj=new Float64Array(this.buffer,n,7),n+=56,this.maxProj=new Float64Array(this.buffer,n,7),n+=56;for(let r=0;r<7;++r)this.minVert[r]=new Float64Array(this.buffer,n,3),n+=24;for(let r=0;r<7;++r)this.maxVert[r]=new Float64Array(this.buffer,n,3),n+=24;for(let r=0;r<7;++r)this.minProj[r]=Number.POSITIVE_INFINITY,this.maxProj[r]=Number.NEGATIVE_INFINITY;const a=new Array(7),e=new Array(7),{data:s,size:i}=t;for(let r=0;r<s.length;r+=i){let t=s[r];t<this.minProj[0]&&(this.minProj[0]=t,a[0]=r),t>this.maxProj[0]&&(this.maxProj[0]=t,e[0]=r),t=s[r+1],t<this.minProj[1]&&(this.minProj[1]=t,a[1]=r),t>this.maxProj[1]&&(this.maxProj[1]=t,e[1]=r),t=s[r+2],t<this.minProj[2]&&(this.minProj[2]=t,a[2]=r),t>this.maxProj[2]&&(this.maxProj[2]=t,e[2]=r),t=s[r]+s[r+1]+s[r+2],t<this.minProj[3]&&(this.minProj[3]=t,a[3]=r),t>this.maxProj[3]&&(this.maxProj[3]=t,e[3]=r),t=s[r]+s[r+1]-s[r+2],t<this.minProj[4]&&(this.minProj[4]=t,a[4]=r),t>this.maxProj[4]&&(this.maxProj[4]=t,e[4]=r),t=s[r]-s[r+1]+s[r+2],t<this.minProj[5]&&(this.minProj[5]=t,a[5]=r),t>this.maxProj[5]&&(this.maxProj[5]=t,e[5]=r),t=s[r]-s[r+1]-s[r+2],t<this.minProj[6]&&(this.minProj[6]=t,a[6]=r),t>this.maxProj[6]&&(this.maxProj[6]=t,e[6]=r)}for(let r=0;r<7;++r){let t=a[r];ft(this.minVert[r],s,t),t=e[r],ft(this.maxVert[r],s,t)}}}class ht{constructor(){this.b0=(0,c.fA)(1,0,0),this.b1=(0,c.fA)(0,1,0),this.b2=(0,c.fA)(0,0,1),this.quality=0}}function ct(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function ut(t,n,a){t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2]}function lt(t,n,a){t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2]}function dt(t,n,a){t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a}function ft(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2]}function vt(t,n,a){const e=n[0],s=n[1],i=n[2],r=a[0],o=a[1],h=a[2];t[0]=s*h-i*o,t[1]=i*r-e*h,t[2]=e*o-s*r}function _t(t,n){const a=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];if(a>0){const e=1/Math.sqrt(a);t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e}}function mt(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function Mt(t,n){const a=n[0]-t[0],e=n[1]-t[1],s=n[2]-t[2];return a*a+e*e+s*s}function gt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}class bt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.uY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.zK;this._data=[t[0],t[1],t[2],n[0],n[1],n[2],a[0],a[1],a[2],a[3]]}clone(){return bt.fromData(this._data)}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const n=new bt;return n._copyFromData(t),n}static fromJSON(t){return new bt(t.center,t.halfSize,t.quaternion)}copy(t){this._copyFromData(t.data)}_copyFromData(t){for(let n=0;n<10;++n)this._data[n]=t[n]}get center(){return(0,h.j)(b.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,n,a){this._data[0]=t,this._data[1]=n,this._data[2]=a}get halfSize(){return(0,h.j)(b.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,r.hZ)(b.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const n=this._data,a=(0,r.hZ)(jt,n[6],n[7],n[8],n[9]);for(let e=0;e<8;++e){const s=t[e];s[0]=(1&e?-1:1)*n[3],s[1]=(2&e?-1:1)*n[4],s[2]=(4&e?-1:1)*n[5],(0,h.v)(s,s,a),s[0]+=n[0],s[1]+=n[1],s[2]+=n[2]}}doesIntersectFrustumConservativeApproximation(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],n=this._data[4],a=this._data[5];return Math.sqrt(t*t+n*n+a*a)}intersectSphere(t){It[0]=this._data[0]-t[0],It[1]=this._data[1]-t[1],It[2]=this._data[2]-t[2];const n=this.getQuaternion(Pt);return(0,r.Xr)(jt,n),(0,h.v)(It,It,jt),(0,h.w)(It,It),pt[0]=Math.min(It[0],this._data[3]),pt[1]=Math.min(It[1],this._data[4]),pt[2]=Math.min(It[2],this._data[5]),(0,h.x)(pt,It)<t[3]*t[3]}intersectSphereWithMBS(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.radius;const a=this._data;It[0]=a[0]-t[0],It[1]=a[1]-t[1],It[2]=a[2]-t[2];const e=t[3],s=e+n;return!((0,h.y)(It)>s*s)&&(jt[0]=-a[6],jt[1]=-a[7],jt[2]=-a[8],jt[3]=a[9],(0,h.v)(It,It,jt),(0,h.w)(It,It),pt[0]=Math.min(It[0],a[3]),pt[1]=Math.min(It[1],a[4]),pt[2]=Math.min(It[2],a[5]),(0,h.x)(pt,It)<e*e)}intersectPlane(t){const n=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],a=this.projectedRadius((0,M.Qj)(t));return n>a?1:n<-a?-1:0}intersectRay(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=this._data,s=jt;s[0]=-e[6],s[1]=-e[7],s[2]=-e[8],s[3]=e[9],It[0]=t[0]-e[0],It[1]=t[1]-e[1],It[2]=t[2]-e[2];const i=(0,h.v)(It,It,jt),r=(0,h.v)(pt,n,jt);let o=-1/0,c=1/0;const u=this.getHalfSize(Tt);for(let h=0;h<3;h++){const t=i[h],n=r[h],e=u[h]+a;if(Math.abs(n)>1e-6){const a=(e-t)/n,s=(-e-t)/n;o=Math.max(o,Math.min(a,s)),c=Math.min(c,Math.max(a,s))}else if(t>e||t<-e)return!1}return o<=c}projectedArea(t,n,a,s){const i=this.getQuaternion(Pt);(0,r.Xr)(jt,i),It[0]=t[0]-this._data[0],It[1]=t[1]-this._data[1],It[2]=t[2]-this._data[2],(0,h.v)(It,It,jt);const o=this.getHalfSize(Tt),c=It[0]<-o[0]?-1:It[0]>o[0]?1:0,l=It[1]<-o[1]?-1:It[1]>o[1]?1:0,d=It[2]<-o[2]?-1:It[2]>o[2]?1:0,f=Math.abs(c)+Math.abs(l)+Math.abs(d);if(0===f)return 1/0;const v=1===f?4:6,_=6*(c+3*l+9*d+13);(0,e.I0)(Ot,i),(0,e.hs)(Ot,Ot,o);const m=this.getCenter(Ft);for(let e=0;e<v;e++){const t=At[_+e];(0,h.j)(It,((1&t)<<1)-1,(2&t)-1,((4&t)>>1)-1),(0,h.o)(It,It,Ot),(0,h.g)(zt,m,It),zt[3]=1,(0,u.t)(zt,zt,n);const a=1/Math.max(1e-6,zt[3]);wt[2*e]=zt[0]*a,wt[2*e+1]=zt[1]*a}const M=2*v-2;let g=wt[0]*(wt[3]-wt[M+1])+wt[M]*(wt[1]-wt[M-1]);for(let e=2;e<M;e+=2)g+=wt[e]*(wt[e+3]-wt[e-1]);return Math.abs(g)*a*s*.125}projectedRadius(t){const n=this.getQuaternion(Pt);return(0,r.Xr)(jt,n),(0,h.v)(It,t,jt),Math.abs(It[0]*this._data[3])+Math.abs(It[1]*this._data[4])+Math.abs(It[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,M.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,M.Qj)(t))}toAaBoundingBox(t){const n=this.getQuaternion(Pt),a=(0,e.I0)(Ot,n),s=this._data[3]*Math.abs(a[0])+this._data[4]*Math.abs(a[3])+this._data[5]*Math.abs(a[6]),i=this._data[3]*Math.abs(a[1])+this._data[4]*Math.abs(a[4])+this._data[5]*Math.abs(a[7]),r=this._data[3]*Math.abs(a[2])+this._data[4]*Math.abs(a[5])+this._data[5]*Math.abs(a[8]);t[0]=this._data[0]-s,t[1]=this._data[1]-i,t[2]=this._data[2]-r,t[3]=this._data[0]+s,t[4]=this._data[1]+i,t[5]=this._data[2]+r}transform(t,n,a){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,f.lO)(a),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,f.lO)(n),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,m.jd)(n,i);if(a===s)n.isGeographic?function(t,n,a,e){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,f.lO)(a);const i=(0,d.tO)(a),o=1+Math.max(0,e)/(i.radius+t.centerZ);t.getCenter(Vt),Vt[2]+=e,(0,_.projectBuffer)(Vt,a,0,Vt,s,0),n.center=Vt;const c=t.getQuaternion(Pt);n.quaternion=c,(0,r.Xr)(jt,c),(0,h.j)(Dt,0,0,1),(0,h.v)(Dt,Dt,jt);const u=t.getHalfSize(Tt);(0,h.j)(Dt,u[0]*Math.abs(Dt[0]),u[1]*Math.abs(Dt[1]),u[2]*Math.abs(Dt[2])),(0,h.h)(Dt,Dt,i.inverseFlattening),(0,h.g)(Dt,u,Dt),n.halfSize=(0,h.h)(Dt,Dt,o)}(this,t,n,e,i):function(t,n,a,e){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,f.lO)(a),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,m.jd)(a,s);t.getCorners(Bt),t.getCenter(Vt),Vt[2]+=e,(0,v.l)(a,Vt,Xt,s),n.setCenter(Xt[12],Xt[13],Xt[14]);const o=2*Math.sqrt(1+Xt[0]+Xt[5]+Xt[10]);jt[0]=(Xt[6]-Xt[9])/o,jt[1]=(Xt[8]-Xt[2])/o,jt[2]=(Xt[1]-Xt[4])/o,jt[3]=.25*o;const c=t.getQuaternion(Pt);n.quaternion=(0,r.lw)(jt,jt,c),(0,r.Xr)(jt,jt),(0,h.j)(Et,0,0,0);const u=n.getCenter(Qt);for(const r of Bt)r[2]+=e,i(r,0,r,0),(0,h.a)(Dt,r,u),(0,h.v)(Dt,Dt,jt),(0,h.w)(Dt,Dt),(0,h.z)(Et,Et,Dt);n.halfSize=Et}(this,t,n,e,i,o);else if(n.isWGS84&&(a.isWebMercator||(0,g.r1)(a)))!function(t,n,a,e,s){n.getCenter(Ft),Ft[2]+=s;const i=(0,f.lO)(a);(0,_.projectBuffer)(Ft,t,0,Ft,i,0),yt(i,n,Ft,a,e)}(n,this,a,t,e);else if(n.isWebMercator&&(0,g.r1)(a))!function(t,n,a,e,s){n.getCenter(Ft),Ft[2]+=s,yt(t,n,Ft,a,e)}(n,this,a,t,e);else{const s=this.getCenter(Ft);s[2]+=e,(0,_.projectBuffer)(s,n,0,s,a,0),t.center=s,this!==t&&(t.quaternion=this.getQuaternion(Pt),t.halfSize=this.getHalfSize(Tt))}}}const jt=(0,o.vt)(),Pt=(0,o.vt)(),xt=(0,o.vt)(),It=(0,c.vt)(),pt=(0,c.vt)(),zt=(0,l.vt)();function qt(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt;return function(t,n){const{data:a,size:e}=t,s=a.length/e;if(s<=0)return;const i=new ot(t);ut(I,i.minProj,i.maxProj),dt(I,I,.5),lt(p,i.maxProj,i.minProj);const r=ct(p),o=new ht;o.quality=r,s<14&&(t=new P.K(new Float64Array(i.buffer,112,42),3));const h=(0,c.vt)(),u=(0,c.vt)(),l=(0,c.vt)(),d=(0,c.vt)(),f=(0,c.vt)(),v=(0,c.vt)(),_=(0,c.vt)();switch(z(i,t,_,h,u,l,d,f,v,o)){case 1:return void k(I,p,n);case 2:return void $(t,d,n)}F(t,_,h,u,l,d,f,v,o),tt(t,o.b0,o.b1,o.b2,J,L);const m=(0,c.vt)();lt(m,L,J),o.quality=ct(m),o.quality<r?rt(o.b0,o.b1,o.b2,J,L,m,n):k(I,p,n)}(t,n),n}const wt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],At=(()=>{const t=new Int8Array(162);let n=0;const a=a=>{for(let e=0;e<a.length;e++)t[n+e]=a[e];n+=6};return a([6,2,3,1,5,4]),a([0,2,3,1,5,4]),a([0,2,3,7,5,4]),a([0,1,3,2,6,4]),a([0,1,3,2,0,0]),a([0,1,5,7,3,2]),a([0,1,3,7,6,4]),a([0,1,3,7,6,2]),a([0,1,5,7,6,2]),a([0,1,5,4,6,2]),a([0,1,5,4,0,0]),a([0,1,3,7,5,4]),a([0,2,6,4,0,0]),a([0,0,0,0,0,0]),a([1,3,7,5,0,0]),a([2,3,7,6,4,0]),a([2,3,7,6,0,0]),a([2,3,1,5,7,6]),a([0,1,5,7,6,2]),a([0,1,5,7,6,4]),a([0,1,3,7,6,4]),a([4,5,7,6,2,0]),a([4,5,7,6,0,0]),a([4,5,1,3,7,6]),a([0,2,3,7,5,4]),a([6,2,3,7,5,4]),a([6,2,3,1,5,4]),t})();function St(t,n,a,e,s){const i=t.getQuaternion(Pt);s.quaternion=i,(0,r.Xr)(jt,i);const o=t.getCenter(Ft),u=t.getHalfSize(Tt);if(1===e){(0,h.v)(Dt,o,jt),(0,h.w)(Et,Dt),(0,h.A)(Yt,Et,u),(0,h.a)(Yt,Et,Yt);const e=(0,h.b)(Yt);(0,h.g)(Yt,Et,u);const i=(0,h.b)(Yt);if(e<a)s.center=o,(0,h.j)(Dt,a,a,a),s.halfSize=(0,h.g)(Dt,u,Dt);else{const r=i>0?1+n/i:1,o=e>0?1+a/e:1,c=(o+r)/2,l=(o-r)/2;(0,h.h)(Yt,Et,l),s.halfSize=(0,h.c)(Yt,Yt,u,c),(0,h.h)(Yt,Et,c),(0,h.c)(Yt,Yt,u,l),(0,h.B)(Dt,Dt),(0,h.C)(Dt,Yt,Dt);const d=t.getQuaternion(xt);s.center=(0,h.v)(Dt,Dt,d)}}else{s.center=(0,h.c)(Dt,o,c.Cb,(a+n)/2);const t=(0,h.v)(Dt,c.Cb,jt);(0,h.w)(t,t),s.halfSize=(0,h.c)(Et,u,t,(a-n)/2)}return s}function yt(t,n,a,s,i){const r=n.getQuaternion(Pt),o=(0,e.I0)(Ot,r),h=n.getHalfSize(Tt);for(let e=0;e<8;++e){for(let t=0;t<3;++t)Vt[t]=h[t]*(e&1<<t?-1:1);for(let t=0;t<3;++t){let n=a[t];for(let a=0;a<3;++a)n+=Vt[a]*o[3*a+t];Nt[3*e+t]=n}}(0,_.projectBuffer)(Nt,t,0,Nt,s,0,8),qt(Ct,i)}const Nt=new Array(24),Ct=new P.K(Nt,3),Vt=(0,c.vt)(),Ft=(0,c.vt)(),Qt=(0,c.vt)(),Tt=(0,c.vt)(),Ot=(0,s.vt)(),Xt=(0,i.vt)(),Bt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Dt=(0,c.vt)(),Et=(0,c.vt)(),Yt=(0,c.vt)(),Zt=(0,c.CN)(-1,-1,-1)},60008:(t,n,a)=>{a.d(n,{A6:()=>m,B8:()=>f,Xd:()=>u,Xr:()=>v,Yc:()=>N,hZ:()=>g,lw:()=>l,t2:()=>S,x8:()=>c});var e=a(44680),s=a(4336),i=a(9392),r=a(53494),o=a(20664),h=a(43047);function c(t,n,a){a*=.5;const e=Math.sin(a);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(a),t}function u(t,n){const a=2*Math.acos(n[3]),e=Math.sin(a/2);return e>(0,r.FD)()?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),a}function l(t,n,a){const e=n[0],s=n[1],i=n[2],r=n[3],o=a[0],h=a[1],c=a[2],u=a[3];return t[0]=e*u+r*o+s*c-i*h,t[1]=s*u+r*h+i*o-e*c,t[2]=i*u+r*c+e*h-s*o,t[3]=r*u-e*o-s*h-i*c,t}function d(t,n,a,e){const s=n[0],i=n[1],o=n[2],h=n[3];let c,u,l,d,f,v=a[0],_=a[1],m=a[2],M=a[3];return u=s*v+i*_+o*m+h*M,u<0&&(u=-u,v=-v,_=-_,m=-m,M=-M),1-u>(0,r.FD)()?(c=Math.acos(u),l=Math.sin(c),d=Math.sin((1-e)*c)/l,f=Math.sin(e*c)/l):(d=1-e,f=e),t[0]=d*s+f*v,t[1]=d*i+f*_,t[2]=d*o+f*m,t[3]=d*h+f*M,t}function f(t,n){const a=n[0],e=n[1],s=n[2],i=n[3],r=a*a+e*e+s*s+i*i,o=r?1/r:0;return t[0]=-a*o,t[1]=-e*o,t[2]=-s*o,t[3]=i*o,t}function v(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function _(t,n){const a=n[0]+n[4]+n[8];let e;if(a>0)e=Math.sqrt(a+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);const s=(a+1)%3,i=(a+2)%3;e=Math.sqrt(n[3*a+a]-n[3*s+s]-n[3*i+i]+1),t[a]=.5*e,e=.5/e,t[3]=(n[3*s+i]-n[3*i+s])*e,t[s]=(n[3*s+a]+n[3*a+s])*e,t[i]=(n[3*i+a]+n[3*a+i])*e}return t}function m(t,n,a,e){const s=.5*Math.PI/180;n*=s,a*=s,e*=s;const i=Math.sin(n),r=Math.cos(n),o=Math.sin(a),h=Math.cos(a),c=Math.sin(e),u=Math.cos(e);return t[0]=i*h*u-r*o*c,t[1]=r*o*u+i*h*c,t[2]=r*h*c-i*o*u,t[3]=r*h*u+i*o*c,t}const M=h.d,g=h.s,b=h.h,j=l,P=h.c,x=h.g,I=h.l,p=h.i,z=p,q=h.b,w=q,A=h.n,S=h.a,y=h.e;function N(t,n,a){const e=(0,o.f)(n,a);return e<-.999999?((0,o.i)(C,V,n),(0,o.H)(C)<1e-6&&(0,o.i)(C,F,n),(0,o.n)(C,C),c(t,C,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,o.i)(C,n,a),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+e,A(t,t))}const C=(0,i.vt)(),V=(0,i.fA)(1,0,0),F=(0,i.fA)(0,1,0);const Q=(0,s.vt)(),T=(0,s.vt)();const O=(0,e.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:b,calculateW:function(t,n){const a=n[0],e=n[1],s=n[2];return t[0]=a,t[1]=e,t[2]=s,t[3]=Math.sqrt(Math.abs(1-a*a-e*e-s*s)),t},conjugate:v,copy:M,dot:x,equals:y,exactEquals:S,fromEuler:m,fromMat3:_,getAxisAngle:u,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:f,len:z,length:p,lerp:I,mul:j,multiply:l,normalize:A,random:function(t){const n=r.Ov,a=n(),e=n(),s=n(),i=Math.sqrt(1-a),o=Math.sqrt(a);return t[0]=i*Math.sin(2*Math.PI*e),t[1]=i*Math.cos(2*Math.PI*e),t[2]=o*Math.sin(2*Math.PI*s),t[3]=o*Math.cos(2*Math.PI*s),t},rotateX:function(t,n,a){a*=.5;const e=n[0],s=n[1],i=n[2],r=n[3],o=Math.sin(a),h=Math.cos(a);return t[0]=e*h+r*o,t[1]=s*h+i*o,t[2]=i*h-s*o,t[3]=r*h-e*o,t},rotateY:function(t,n,a){a*=.5;const e=n[0],s=n[1],i=n[2],r=n[3],o=Math.sin(a),h=Math.cos(a);return t[0]=e*h-i*o,t[1]=s*h+r*o,t[2]=i*h+e*o,t[3]=r*h-s*o,t},rotateZ:function(t,n,a){a*=.5;const e=n[0],s=n[1],i=n[2],r=n[3],o=Math.sin(a),h=Math.cos(a);return t[0]=e*h+s*o,t[1]=s*h-e*o,t[2]=i*h+r*o,t[3]=r*h-i*o,t},rotationTo:N,scale:P,set:g,setAxes:function(t,n,a,e){const s=O;return s[0]=a[0],s[3]=a[1],s[6]=a[2],s[1]=e[0],s[4]=e[1],s[7]=e[2],s[2]=-n[0],s[5]=-n[1],s[8]=-n[2],A(t,_(t,s))},setAxisAngle:c,slerp:d,sqlerp:function(t,n,a,e,s,i){return d(Q,n,s,i),d(T,a,e,i),d(t,Q,T,2*i*(1-i)),t},sqrLen:w,squaredLength:q,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=9231.d7497d57.chunk.js.map