{"version":3,"file":"static/js/6286.409c120d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/curveOperationUtils.js","../node_modules/@arcgis/core/views/interactive/support/utils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter(t=>\"size\"===t.type).map(e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2});let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach(n=>{e=t(e,n.symbol)}),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach(n=>{e=t(e,n.symbol)}),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{fromValues as r,create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{mul as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{toEllipticArc7 as e}from\"../../../../geometry/support/curves/circularArcUtils.js\";import{isCircularArc as s}from\"../../../../geometry/support/curves/curveUtils.js\";import{transformEllipticArc as i}from\"../../../../geometry/support/curves/ellipticArc7Utils.js\";function m(r,t,o,m,p,u,l,a){const f=t??o.leftVertex.pos,n=s(r)?e(f,r):r,[g,j,v,x,y,h,U]=n.a,b=y??0,A=h??Math.hypot(g[0]-j[0],g[1]-j[1]),M=U??1,V=c(m[0],m[1],p[0],p[1],u[0],u[1],l,a);return i(f,{a:[g,j,v,x,b,A,M]},V)}function c(e,s,i,m,c,p,u,l){const a=r(1,0,0,0,1,0,-e,-s,1),f=u-1,n=r(i*i*f+1,m*i*f,0,i*m*f,m*m*f+1,0,0,0,1),g=l-1,j=r(c*c*g+1,p*c*g,0,c*p*g,p*p*g+1,0,0,0,1),v=r(1,0,0,0,1,0,e,s,1),x=t();return o(x,n,a),o(x,j,x),o(x,v,x),x}export{c as getScaleTransform,m as scaleArc};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as o}from\"../../../core/screenUtils.js\";function s(s){let t=0,a=0,e=0;return s?(\"cim\"===s.type&&s.data.symbol&&\"symbolLayers\"in s.data.symbol&&s.data.symbol.symbolLayers&&s.data.symbol.symbolLayers.map(o=>{\"CIMVectorMarker\"===o.type&&o.anchorPoint&&(Math.abs(o.anchorPoint.x)>t&&(t=o.anchorPoint.x),Math.abs(o.anchorPoint.y)>a&&(a=o.anchorPoint.y),null!=o.size&&o.size>e&&(e=o.size))}),t=o(t),a=o(a),e=o(e),{offsetX:t,offsetY:a,size:e}):{offsetX:t,offsetY:a,size:e}}export{s as getSymbolInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import t from\"../../geometry/Extent.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";function r(n,r,i,a=new t){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const t=i.overlayPixelSizeInMapUnits(n),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*t:e(a)/e(i.spatialReference)}const s=n.x-o,l=n.y-o,c=n.x+o,m=n.y+o,{spatialReference:p}=i;return a.xmin=Math.min(s,c),a.ymin=Math.min(l,m),a.xmax=Math.max(s,c),a.ymax=Math.max(l,m),a.spatialReference=p,a}function i(e,t,i){const o=i.toMap(e);if(null==o)return!1;return r(o,n(),i,a).intersects(t)}let a=new t;function o(){a=new t}export{o as cleanupDrapedUtils,r as createQueryGeometry,i as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../core/Accessor.js\";import{EventEmitter as o}from\"../../core/Evented.js\";import{watch as i,sync as s}from\"../../core/reactiveUtils.js\";import{screenPointObjectToArray as r,pt2px as l,createScreenPointArray as n}from\"../../core/screenUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as h}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{k as p}from\"../../chunks/vec32.js\";import{create as m}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as u,project as y}from\"../../geometry/projectionUtils.js\";import{projectPointToVector as g}from\"../../geometry/projection/projectPointToVector.js\";import{getGraphicEffectiveElevationMode as b}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as d}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{getSymbolInfo as _}from\"./support/utils.js\";import{intersectsDrapedGeometry as v}from\"../support/drapedUtils.js\";let S=class extends e{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set(\"graphic\",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&\"elevationInfo\"in t?t.elevationInfo:null,o=b(this.graphic),i=e?e.offset:0;return new f({mode:o,offset:i})}set focusedSymbol(t){t!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get(\"grabbing\")&&(this._set(\"grabbing\",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get(\"hovering\")&&(this._set(\"hovering\",t),this._updateGraphicSymbol())}set selected(t){t!==this._get(\"selected\")&&(this._set(\"selected\",t),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:t?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const o=e.geometry;if(null==o)return null;const i=this._get(\"focusedSymbol\"),s=null!=i?i:e.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,t,o,s):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=i(()=>this.graphic?.symbol,t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))},s)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,o,i){if(null==(i=i||d(o)))return null;const s=1;let n=this._circleCollisionCache;if(\"point\"===o.type&&\"cim\"===i.type&&\"CIMPointSymbol\"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:l,offsetY:n,size:a}=_(i),c=r(e,j),p=a/2,m=t.toScreen(o),u=m.x+l,y=m.y+n;return h(c,[u,y])<p*p?s:null}if(\"point\"!==o.type||\"simple-marker\"!==i.type)return v(e,o,t)?s:null;if(null==n||!n.originalPoint.equals(o)){const e=o,s=t.spatialReference;if(u(e.spatialReference,s)){const t=y(e,s);n={originalPoint:e.clone(),mapPoint:t,radiusPx:l(i.size)},this._circleCollisionCache=n}}if(null!=n){const o=r(e,j),a=t.toScreen?.(n.mapPoint);if(!a)return null;const c=n.radiusPx,p=a.x+l(i.xoffset),m=a.y-l(i.yoffset);return h(o,[p,m])<c*c?s:null}return null}_intersectDistance3D(t,e,o){const i=t.toMap(e,{include:[o]});return i&&g(i,C,t.renderSpatialReference)?p(C,t.state.camera.eye):null}};t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"graphic\",null),t([a()],S.prototype,\"elevationInfo\",null),t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([a({value:null})],S.prototype,\"focusedSymbol\",null),t([a({constructOnly:!0})],S.prototype,\"layer\",void 0),t([a()],S.prototype,\"interactive\",void 0),t([a()],S.prototype,\"selectable\",void 0),t([a()],S.prototype,\"grabbable\",void 0),t([a({value:!1})],S.prototype,\"grabbing\",null),t([a()],S.prototype,\"dragging\",void 0),t([a()],S.prototype,\"hovering\",null),t([a({value:!1})],S.prototype,\"selected\",null),t([a()],S.prototype,\"cursor\",void 0),S=t([c(\"esri.views.interactive.GraphicManipulator\")],S);const C=m(),j=n();export{S as GraphicManipulator};\n"],"names":["t","e","xoffset","Math","max","abs","yoffset","n","_t$stops","stops","length","r","o","size","filter","type","map","maxSize","minSize","s","f","floor","renderer","pointerType","visualVariables","symbol","_n$uniqueValueInfos","uniqueValueInfos","forEach","classBreakInfos","m","p","u","l","a","leftVertex","pos","g","j","v","x","y","h","U","b","A","hypot","M","V","c","i","data","symbolLayers","anchorPoint","offsetX","offsetY","_i$resolution","arguments","undefined","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","spatialReference","xmin","min","ymin","xmax","ymax","toMap","intersects","S","graphic","this","_circleCollisionCache","_originalSymbol","_set","attachSymbolChanged","elevationInfo","layer","offset","mode","focusedSymbol","_get","_updateGraphicSymbol","grabbableForEvent","grabbing","hovering","selected","events","emit","action","_focused","constructor","super","interactive","selectable","grabbable","dragging","cursor","consumesClicks","_graphicSymbolChangedHandle","destroy","detachSymbolChanged","_resetGraphicSymbol","intersectionDistance","visible","geometry","view","_intersectDistance2D","_intersectDistance3D","attach","add","detach","remove","_this$graphic","onElevationChange","onViewChange","_i$data$symbol","d","_","toScreen","originalPoint","clone","mapPoint","radiusPx","_t$toScreen","call","include","C","renderSpatialReference","state","camera","eye","constructOnly","nonNullable","prototype","value"],"sourceRoot":""}