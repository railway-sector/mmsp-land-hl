"use strict";(self.webpackChunkmmsp_land_hl=self.webpackChunkmmsp_land_hl||[]).push([[2499],{23478:(e,t,r)=>{r.d(t,{I:()=>n,W:()=>s});var i=r(4212);async function s(e,t){if(!e)return null;const r=t.featureAdapter,{startTimeField:s,endTimeField:n}=e;let a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;if(s&&n)await t.forEach(e=>{const t=r.getAttribute((0,i.zI)(e),s),u=r.getAttribute((0,i.zI)(e),n);null==t||isNaN(t)||(a=Math.min(a,t)),null==u||isNaN(u)||(o=Math.max(o,u))});else{const e=s||n;await t.forEach(t=>{const s=r.getAttribute((0,i.zI)(t),e);null==s||isNaN(s)||(a=Math.min(a,s),o=Math.max(o,s))})}return{start:a,end:o}}function n(e,t,r){var i,s;if(!t||!e)return null;const{startTimeField:n,endTimeField:a}=e;if(!n&&!a)return null;const{start:o,end:u}=t;if(null===o&&null===u)return null;if(void 0===o&&void 0===u)return()=>!1;const l=null!==(i=null===(s=r.getAttributeAsTimestamp)||void 0===s?void 0:s.bind(r))&&void 0!==i?i:r.getAttribute.bind(r);return n&&a?function(e,t,r,i,s){return null!=i&&null!=s?n=>{const a=e(n,t),o=e(n,r);return(null==a||a<=s)&&(null==o||o>=i)}:null!=i?t=>{const s=e(t,r);return null==s||s>=i}:null!=s?r=>{const i=e(r,t);return null==i||i<=s}:void 0}(l,n,a,o,u):function(e,t,r,i){return null!=r&&null!=i&&r===i?i=>e(i,t)===r:null!=r&&null!=i?s=>{const n=e(s,t);return null!=n&&n>=r&&n<=i}:null!=r?i=>{const s=e(i,t);return null!=s&&s>=r}:null!=i?r=>{const s=e(r,t);return null!=s&&s<=i}:void 0}(l,n||a,o,u)}},48068:(e,t,r)=>{r.d(t,{y:()=>s});var i=r(97255);class s{static fromBuffer(e,t){return new s(e,t)}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295;const r=new Uint32Array(Math.ceil(e/32));return new s(r,t)}constructor(e,t){this._mask=0,this._buf=e,this._mask=t}_getIndex(e){return Math.floor(e/32)}get usedMemory(){return(0,i.Qf)(this._buf)}has(e){const t=this._mask&e;return!!(this._buf[this._getIndex(t)]&1<<t%32)}hasRange(e,t){let r=e,i=t;for(;r%32&&r!==i;){if(this.has(r))return!0;r++}for(;i%32&&r!==i;){if(this.has(r))return!0;i--}if(r===i)return!1;for(let s=r/32;s!==i/32;s++)if(this._buf[s])return!0;return!1}set(e){const t=this._mask&e,r=this._getIndex(t),i=1<<t%32;this._buf[r]|=i}setRange(e,t){let r=e,i=t;for(;r%32&&r!==i;)this.set(r++);for(;i%32&&r!==i;)this.set(i--);if(r!==i)for(let s=r/32;s!==i/32;s++)this._buf[s]=4294967295}unset(e){const t=this._mask&e,r=this._getIndex(t),i=1<<t%32;this._buf[r]&=4294967295^i}resize(e){const t=this._buf,r=new Uint32Array(Math.ceil(e/32));r.set(t),this._buf=r}or(e){for(let t=0;t<this._buf.length;t++)this._buf[t]|=e._buf[t];return this}and(e){for(let t=0;t<this._buf.length;t++)this._buf[t]&=e._buf[t];return this}xor(e){for(let t=0;t<this._buf.length;t++)this._buf[t]^=e._buf[t];return this}ior(e){for(let t=0;t<this._buf.length;t++)this._buf[t]|=~e._buf[t];return this}iand(e){for(let t=0;t<this._buf.length;t++)this._buf[t]&=~e._buf[t];return this}ixor(e){for(let t=0;t<this._buf.length;t++)this._buf[t]^=~e._buf[t];return this}any(){for(let e=0;e<this._buf.length;e++)if(this._buf[e])return!0;return!1}copy(e){for(let t=0;t<this._buf.length;t++)this._buf[t]=e._buf[t];return this}clone(){return new s(this._buf.slice(),this._mask)}clear(){for(let e=0;e<this._buf.length;e++)this._buf[e]=0;return this}forEachSet(e){for(let t=0;t<this._buf.length;t++){let r=this._buf[t],i=32*t;if(r)for(;r;)1&r&&e(i),r>>>=1,i++}}countSet(){let e=0;return this.forEachSet(t=>{e++}),e}}},55147:(e,t,r)=>{r.d(t,{P:()=>n});var i=r(97255),s=r(48068);class n{constructor(e){this._valid=s.y.create(e),this._data=new Array(e)}get usedMemory(){let e=this._valid.usedMemory;if(this._data.length>0){const t="string"==typeof this._data[0]?64:i.RS;e+=this._data.length*t}return e}has(e){return this._valid.has(e)}set(e,t){this._valid.set(e),this._data[e]=t}get(e){return this._data[e]}}},55167:(e,t,r)=>{r.d(t,{LQ:()=>l,ag:()=>h,pL:()=>d});var i=r(98618),s=r(1484);const n=new s.A,a=new s.A,o=new s.A,u={esriGeometryPoint:i.DF,esriGeometryPolyline:i.BW,esriGeometryPolygon:i.z5,esriGeometryMultipoint:i.qK};function l(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.hasZ,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.hasM;if(null==t)return null;const a=e.hasZ&&s,u=e.hasM&&n;if(r){const l=(0,i.Nl)(o,t,e.hasZ,e.hasM,"esriGeometryPoint",r,s,n);return(0,i.DF)(l,a,u)}return(0,i.DF)(t,a,u)}function d(e,t,r,s,l,d){var h,c;let f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t,m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r;const y=t&&f,_=r&&m,p=null!=s?"coords"in s?s:s.geometry:null;if(null==p)return null;if(l){var g,b;let s=(0,i.kz)(a,p,t,r,e,l,f,m);return d&&(s=(0,i.Nl)(o,s,y,_,e,d)),null!==(g=null===(b=u[e])||void 0===b?void 0:b.call(u,s,y,_))&&void 0!==g?g:null}if(d){var v,I;const s=(0,i.Nl)(o,p,t,r,e,d,f,m);return null!==(v=null===(I=u[e])||void 0===I?void 0:I.call(u,s,y,_))&&void 0!==v?v:null}return(0,i.Q4)(n,p,t,r,f,m),null!==(h=null===(c=u[e])||void 0===c?void 0:c.call(u,n,y,_))&&void 0!==h?h:null}function h(e){return e&&c in e?JSON.parse(JSON.stringify(e,f)):e}const c="_geVersion",f=(e,t)=>e===c?void 0:t},58817:(e,t,r)=>{r.d(t,{OP:()=>a,V4:()=>s,rZ:()=>n});r(81806);var i=r(76460);function s(e,t,r){var s;if(null==e)return null;const n=t.readArcadeFeature();t.contextTimeZone=null===(s=r.$view)||void 0===s?void 0:s.timeZone;try{return e.evaluate(n,r)}catch(a){return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",a),null}}function n(e){return null==e||e===1/0||e===-1/0||"number"==typeof e&&isNaN(e)}function a(e,t,r,i){var s;if(null==e)return null!=i?i:null;const a=t.readArcadeFeature();t.contextTimeZone=null===(s=r.$view)||void 0===s?void 0:s.timeZone;const o=e.evaluate(a,r);return n(o)?null!=i?i:null:o}},77859:(e,t,r)=>{r.d(t,{Z:()=>a});var i,s=r(20176),n=r(88284);class a{getObjectId(e){return e.getObjectId()}getAttributes(e){return e.readAttributes()}getAttribute(e,t){return e.readAttribute(t)}getAttributeAsTimestamp(e,t){return e.readAttributeAsTimestamp(t)}cloneWithGeometry(e,t){const r=e.readAttributes(),i=new s.Om(t,r,null,e.getObjectId(),e.getDisplayId()),a=n.K.fromOptimizedFeatures([i],e.metadata);return a.setIndex(0),a}getGeometry(e){return e.readGeometryWorldSpace()}getCentroid(e,t){return e.readCentroidForDisplay()}}(i=a).Shared=new i},81376:(e,t,r)=>{r.d(t,{tC:()=>I,c0:()=>v,xt:()=>b});var i=r(50076),s=r(11352),n=r(65658);var a=r(19902),o=r(80963);function u(e,t){return e?t?4:3:t?3:2}function l(e,t,r,i,s,n){const a=u(s,n),{coords:o,lengths:l}=i;if(!l)return!1;for(let u=0,h=0;u<l.length;u++,h+=a)if(!d(e,t,r,o[h],o[h+1]))return!1;return!0}function d(e,t,r,i,s){if(!e)return!1;const n=u(t,r),{coords:a,lengths:o}=e;let l=!1,d=0;for(const u of o)l=h(l,a,n,d,u,i,s),d+=u*n;return l}function h(e,t,r,i,s,n,a){let o=e,u=i;for(let l=i,d=i+s*r;l<d;l+=r){u=l+r,u===d&&(u=i);const e=t[l],s=t[l+1],h=t[u],c=t[u+1];(s<a&&c>=a||c<a&&s>=a)&&e+(a-s)/(c-s)*(h-e)<n&&(o=!o)}return o}var c=r(98618),f=r(1484),m=r(55167),y=r(24586);const _="unsupported-query",p={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!1,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};const g={esriSpatialRelIntersects:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(2268)]).then(r.bind(r,95838)),esriSpatialRelContains:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(863)]).then(r.bind(r,27353)),esriSpatialRelCrosses:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(1216)]).then(r.bind(r,56050)),esriSpatialRelDisjoint:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(8242)]).then(r.bind(r,80352)),esriSpatialRelEnvelopeIntersects:null,esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(8458)]).then(r.bind(r,34744)),esriSpatialRelTouches:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(8691)]).then(r.bind(r,66521)),esriSpatialRelWithin:()=>Promise.all([r.e(6871),r.e(6364),r.e(6175),r.e(426),r.e(8045)]).then(r.bind(r,51475)),esriSpatialRelRelation:null};async function b(e,t,r,i,o){if((0,a.Bi)(t)){if("esriGeometryPoint"===r&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,c.Ye)(new f.A,t,!1,!1);return t=>function(e,t,r,i){return d(e,t,r,i.coords[0],i.coords[1])}(e,!1,!1,t)}if("esriGeometryMultipoint"===r){const r=(0,c.Ye)(new f.A,t,!1,!1);if("esriSpatialRelContains"===e)return e=>l(r,!1,!1,e,i,o)}}if((0,a.ZC)(t)){if("esriGeometryPoint"===r&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return e=>(0,s.qz)(t,(0,m.pL)(r,i,o,e));if("esriGeometryMultipoint"===r&&"esriSpatialRelContains"===e)return e=>(0,s.rL)(t,(0,m.pL)(r,i,o,e));if("esriSpatialRelIntersects"===e){const e=function(e){return"mesh"===e?n.xB:(0,n.xK)(e)}(r);return s=>e(t,(0,m.pL)(r,i,o,s))}}"esriSpatialRelEnvelopeIntersects"===e&&(e="esriSpatialRelIntersects");const u=await function(e){const t=g[e];if(null==t)throw new Error("Cannot load unsupported spatial operator: ".concat(e));return t()}(e);return e=>u.execute(t,(0,m.pL)(r,i,o,e))}async function v(e,t,r){const{spatialRel:s,geometry:n}=e;if(n){if(!function(e){return null!=e&&!0===p.spatialRelationship[e]}(s))throw new i.A(_,"Unsupported query spatial relationship",{query:e});if((0,o.fn)(n.spatialReference)&&(0,o.fn)(r)){var u;if(!function(e){return null!=e&&!0===p.queryGeometry[(0,a.$B)(e)]}(n))throw new i.A(_,"Unsupported query geometry type",{query:e});if(!function(e){return null!=e&&!0===p.layerGeometry[e]}(t))throw new i.A(_,"Unsupported layer geometry type",{query:e});if(e.outSR)return(0,y.Nk)(null===(u=e.geometry)||void 0===u?void 0:u.spatialReference,e.outSR)}}}function I(e){if((0,a.ZC)(e))return!0;if((0,a.Bi)(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}},88284:(e,t,r)=>{r.d(t,{K:()=>o});var i=r(98618),s=r(20176),n=r(1900),a=r(93210);class o extends a.Y{static fromFeatures(e,t){const{geometryType:r}=t,s=(0,i.Di)([],e,r,!1,!1,t.featureIdInfo);for(let i=0;i<s.length;i++)s[i].displayId=e[i].displayId;return o.fromOptimizedFeatures(s,t)}static fromFeatureSet(e,t){const r=(0,i.q3)(e,t.featureIdInfo);return o.fromOptimizedFeatureSet(r,t)}static fromOptimizedFeatureSet(e,t){const r=o.fromOptimizedFeatures(e.features,t);return r._exceededTransferLimit=e.exceededTransferLimit,r._transform=e.transform,r._fieldsIndex=new n.A(e.fields),r}static fromOptimizedFeatures(e,t,r){const i=new o(e,t);return i._fieldsIndex=t.fieldsIndex,i._transform=r,i}static empty(e){return new o([],e)}constructor(e,t){super(t),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=t.geometryType,this._features=e}get fields(){return this._fieldsIndex}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}get _current(){return this._features[this._featureIndex]}get usedMemory(){return this._current.usedMemory}getSize(){return this._features.length}getCursor(){return this.copy()}getInTransform(){return this._transform}getAttributeHash(){let e="";for(const t in this._current.attributes)e+=this._current.attributes[t];return e}getIndex(){return this._featureIndex}setIndex(e){this._featureIndex=e}getObjectId(){var e;return null===(e=this._current)||void 0===e?void 0:e.objectId}getDisplayId(){return this._current.displayId}setDisplayId(e){this._current.displayId=e}copy(){const e=new o(this._features,this.metadata);return this.copyInto(e),e}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readGeometryArea(){return(0,s.N3)(this._current)?(0,i.Rk)(this._current.geometry,2):0}_readX(){return(0,s.N3)(this._current)?this._current.geometry.coords[0]:0}_readY(){return(0,s.N3)(this._current)?this._current.geometry.coords[1]:0}_readGeometry(){var e;return(0,s.N3)(this._current)&&null!==(e=this._current.geometry)&&void 0!==e?e:null}_readServerCentroid(){return this._current.centroid}_readAttribute(e,t){if(!this._fieldsIndex){const t=this._current.attributes[e];if(void 0!==t)return t;const r=e.toLowerCase();for(const e in this._current.attributes)if(e.toLowerCase()===r)return this._current.attributes[e];return}const r=this._fieldsIndex.get(e);if(!r)return;const i=this._current.attributes[r.name];return null==i?i:t&&this.fields.isDateField(e)?new Date(i):i}_readAttributes(){return this._current.attributes}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._transform=this._transform,e._fieldsIndex=this._fieldsIndex}}},93210:(e,t,r)=>{r.d(t,{Y:()=>z});var i,s,n,a=r(89379),o=r(46405),u=r(81806),l=r(97255),d=r(16503),h=r(14902),c=r(84735),f=r(42294),m=r(19902),y=r(88501),_=r(76279),p=r(90321),g=r(98618),b=r(20176),v=r(1484),I=r(36693),x=r(55147);const A=null!==(i=(0,u.A)("featurelayer-simplify-thresholds"))&&void 0!==i?i:[.5,.5,.5,.5],S=A[0],T=A[1],D=A[2],F=A[3],G=null!==(s=(0,u.A)("featurelayer-simplify-payload-size-factors"))&&void 0!==s?s:[1,2,4],w=G[0],M=G[1],R=G[2],C=null!==(n=(0,u.A)("featurelayer-simplify-mobile-factor"))&&void 0!==n?n:2,B=(0,u.A)("esri-mobile"),O=4294967295;class z{constructor(e){this.metadata=e,this.type="FeatureSetReader",this._overrides=null,this._joined=[],this._objectIdToIndex=null,this._boundsBuffer=[],this._caches=new Map,this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}destroy(){}[Symbol.dispose](){this.destroy()}getAreaSimplificationThreshold(e,t){let r=1;const i=B?C:1;t>4e6?r=R*i:t>1e6?r=M*i:t>5e5?r=w*i:t>1e5&&(r=i);let s=0;return e>4e3?s=F*r:e>2e3?s=D*r:e>100?s=T:e>15&&(s=S),s}getBounds(e){!function(e,t,r){if(!(e.length>t))for(;e.length<=t;)e.push(r)}(this._boundsBuffer,4*this.getIndex()+4,0);const t=this.getBoundsXMin();if(t===O||!isFinite(t))return!1;if(0===this.getBoundsXMin()){const t=this.readGeometryWorldSpace();if(null!==t&&void 0!==t&&t.isPoint&&0===t.coords[0]&&0===t.coords[1])return(0,f.BI)(e,0,0,0,0),!0;if(!t)return this.setBoundsXMin(O),!1;let r=1/0,i=1/0,s=-1/0,n=-1/0;return t.forEachVertex((e,t)=>{r=Math.min(r,e),i=Math.min(i,t),s=Math.max(s,e),n=Math.max(n,t)}),this.setBoundsXMin(r),this.setBoundsYMin(i),this.setBoundsXMax(s),this.setBoundsYMax(n),(0,f.BI)(e,r,i,s,n),!0}const r=this.getBoundsXMin(),i=this.getBoundsYMin(),s=this.getBoundsXMax(),n=this.getBoundsYMax();return(0,f.BI)(e,r,i,s,n),!0}getBoundsXMin(){return this._boundsBuffer[4*this.getIndex()]}setBoundsXMin(e){this._boundsBuffer[4*this.getIndex()]=e}getBoundsYMin(){return this._boundsBuffer[4*this.getIndex()+1]}setBoundsYMin(e){this._boundsBuffer[4*this.getIndex()+1]=e}getBoundsXMax(){return this._boundsBuffer[4*this.getIndex()+2]}setBoundsXMax(e){this._boundsBuffer[4*this.getIndex()+2]=e}getBoundsYMax(){return this._boundsBuffer[4*this.getIndex()+3]}setBoundsYMax(e){this._boundsBuffer[4*this.getIndex()+3]=e}readAttributeAsTimestamp(e){const t=this.readAttribute(e);return"string"==typeof t?new Date(t).getTime():"number"==typeof t||null==t?t:null}readAttribute(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const i of this._joined){i.setIndex(this.getIndex());const r=i._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}registerOverrides(e){this._overrides=e}withoutOverrides(){const e=this.copy();return e._overrides=null,e}readOptimizedFeatureWorldSpace(){const e=this.readGeometryWorldSpace(),t=this.readAttributes(),r=this.readCentroidWorldSpace();return new b.Om(e,t,r,this.getObjectId(),this.getDisplayId())}readLegacyFeatureForDisplay(){var e;const t=this.readCentroidForDisplay();return{attributes:this.readAttributes(),geometry:this.readLegacyGeometryForDisplay(),centroid:null!==(e=t&&{x:t.coords[0],y:t.coords[1]})&&void 0!==e?e:null}}readLegacyFeatureWorldSpace(){var e;const t=this.readCentroidWorldSpace();return{attributes:this.readAttributes(),geometry:this._readLegacyGeometryWorldSpace(),centroid:null!==(e=t&&{x:t.coords[0],y:t.coords[1]})&&void 0!==e?e:null}}readLegacyGeometryForDisplay(){const e=this.readGeometryForDisplay();return(0,g.zv)(e,this.geometryType,!1,!1)}readXForDisplay(){return this._readX()}readYForDisplay(){return this._readY()}readXWorldSpace(){const e=this._readX(),t=this.getInTransform();return null==t?e:e*t.scale[0]+t.translate[0]}readYWorldSpace(){const e=this._readY(),t=this.getInTransform();return null==t?e:t.translate[1]-e*t.scale[1]}readGeometryForDisplay(){const e=this._readGeometryDeltaDecoded(!0);if(!e){const e=this._createDeltaQuantizedGeometryFromServerCentroid();return e?e.deltaDecode():null}return e}readGeometryForDisplayTransformed(e){let t=this.readGeometryForDisplay();if(t&&"esriGeometryPolyline"===this.metadata.geometryType&&(t=(0,g.kz)(new v.A,t,this.hasZ,this.hasM,this.metadata.geometryType,e.scale[0])),t&&(t=(0,g.hK)(t,e,this.metadata.geometryType,this.hasZ,this.hasM)),!t){const t=this.readCentroidForDisplay();if(!t)return null;const r=(0,_.IE)(e,t.coords[0]),i=(0,_.B2)(e,t.coords[1]);return this._createDeltaQuantizedExtrudedGeometry(r,i).deltaDecode()}return t}readGeometryWorldSpace(){let e=this._readGeometry();if(e||(e=this._createDeltaQuantizedGeometryFromServerCentroid()),!e)return null;const t=e.clone(),r=this.getInTransform();return null!=r&&(0,g.Ch)(t,t,this.hasZ,this.hasM,r),t}readCentroidForDisplay(){const e=this.readGeometryForDisplay();return e?this._computeDisplayCentroid(e):this._readServerCentroid()}readCentroidWorldSpace(){const e=this.readGeometryForDisplay(),t=e?this._computeDisplayCentroid(e):this._readServerCentroid();if(!t)return null;const r=t.clone(),i=this.getInTransform();return null!=i&&(0,g.Ch)(r,r,this.hasZ,this.hasM,i),r}setCache(e){let t=this._caches.get(e);null==t&&(t=new x.P(this.getSize()),this._caches.set(e,t)),this._activeCache=t}setCachedValue(e){this._activeCache.set(this.getIndex(),e)}hasCachedValue(){return this._activeCache.has(this.getIndex())}getCachedValue(){return this._activeCache.get(this.getIndex())}get underlyingMemory(){let e=0;e+=(0,l.Qf)(this._boundsBuffer);for(const t of this._caches.values())e+=t.usedMemory;return e}_readGeometryDeltaDecoded(e){const t=this._readGeometry(e);return"esriGeometryPoint"!==this.geometryType&&t&&this.getInTransform()?t.deltaDecode():t}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)||this._joined.some(t=>t.hasField(e))}geometry(){const e=this.readGeometryWorldSpace(),t=(0,g.zv)(e,this.geometryType,this.hasZ,this.hasM),r=(0,m.rS)(t);if(r){if(!this.metadata.outSpatialReference)throw new Error("InternalError: Expected spatial reference to be defined");r.spatialReference=this.metadata.outSpatialReference}return r}autocastArcadeDate(e,t){var r;return t&&t instanceof Date?this.isUnknownDateTimeField(e)?o.lY.unknownDateJSToArcadeDate(t):o.lY.dateJSAndZoneToArcadeDate(t,null!==(r=this.contextTimeZone)&&void 0!==r?r:I.qU):t}isUnknownDateTimeField(e){return this.metadata.fieldsIndex.getTimeZone(e)===I.L5}field(e){let t=this.fields.get(e);if(t)switch(t.type){case"date-only":case"esriFieldTypeDateOnly":return d.n.fromReader(this.readAttribute(e,!1));case"time-only":case"esriFieldTypeTimeOnly":return h.k.fromReader(this.readAttribute(e,!1));case"esriFieldTypeTimestampOffset":case"timestamp-offset":return o.lY.fromReaderAsTimeStampOffset(this.readAttribute(e,!1));case"date":case"esriFieldTypeDate":return this.autocastArcadeDate(e,this.readAttribute(e,!0));default:return this.readAttribute(e,!1)}for(const r of this._joined)if(r.setIndex(this.getIndex()),t=r.fields.get(e),t)switch(t.type){case"date-only":case"esriFieldTypeDateOnly":return d.n.fromReader(r._readAttribute(e,!1));case"time-only":case"esriFieldTypeTimeOnly":return h.k.fromReader(r._readAttribute(e,!1));case"esriFieldTypeTimestampOffset":case"timestamp-offset":return o.lY.fromReaderAsTimeStampOffset(r._readAttribute(e,!1));case"date":case"esriFieldTypeDate":return this.autocastArcadeDate(e,r._readAttribute(e,!0));default:return this.readAttribute(e,!1)}throw new Error("Field ".concat(e," does not exist"))}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this.fields.fields.map(e=>e.name)}isEmpty(){return this.fields.fields.length<=0&&null==this.geometry()}castToText(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return JSON.stringify(this.readLegacyFeatureForDisplay());const e=this.readLegacyFeatureForDisplay();if(!e)return JSON.stringify(null);const t={geometry:e.geometry,attributes:(0,a.A)({},e.attributes)};for(const r in t.attributes){const e=t.attributes[r];e instanceof Date&&(t.attributes[r]=e.getTime())}return JSON.stringify(t)}gdbVersion(){return null}fullSchema(){return this.metadata.arcadeSchema}castAsJson(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{attributes:this._readAttributes(),geometry:!0===(null===r||void 0===r?void 0:r.keepGeometryType)?this.geometry():null!==(e=null===(t=this.geometry())||void 0===t?void 0:t.toJSON())&&void 0!==e?e:null}}castAsJsonAsync(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Promise.resolve(this.castAsJson(e))}_getExists(){if(this._overrides){const e=this.getObjectId();return!this._overrides.hasOverride(e)}return!0}_computeDisplayCentroid(e){if(null==this.getInTransform())return(0,p.Q)(new v.A,e,this.hasM,this.hasZ);const t=c.z.fromOptimized(e,this.geometryType);t.yFactor*=-1;const r=(0,y.d)(t);return r?(r[1]*=-1,new v.A([],r)):null}copyInto(e){e._joined=this._joined,e._overrides=this._overrides,e._objectIdToIndex=this._objectIdToIndex,e._boundsBuffer=this._boundsBuffer,e._activeCache=this._activeCache,e._caches=this._caches,e._contextTimeZone=this._contextTimeZone}_readLegacyGeometryWorldSpace(){const e=this.readGeometryWorldSpace();return(0,g.zv)(e,this.geometryType,!1,!1)}_createDeltaQuantizedGeometryFromServerCentroid(){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this._createDeltaQuantizedExtrudedGeometry(t,r)}_createDeltaQuantizedExtrudedGeometry(e,t){return"esriGeometryPolyline"===this.geometryType?this._createDeltaQuantizedExtrudedLine(e,t):this._createDeltaQuantizedExtrudedQuad(e,t)}_createDeltaQuantizedExtrudedQuad(e,t){return new v.A([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}_createDeltaQuantizedExtrudedLine(e,t){return new v.A([2],[e-1,t+1,1,-1])}}}}]);
//# sourceMappingURL=2499.ae3239c6.chunk.js.map